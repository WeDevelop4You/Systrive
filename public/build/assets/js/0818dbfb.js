import{l as n}from"./bdb3efe6.js";import{T as i,_ as p}from"./3bb726bb.js";import{n as m}from"./75131b1e.js";import{b as c,_ as l}from"./aec5129c.js";import{_ as u}from"./30be8c11.js";import{_ as d}from"./bbc3bc1d.js";import{_}from"./138027c1.js";import{_ as h}from"./b7bc7979.js";import"./7aa02009.js";import"./de3c98b1.js";import"./3bb5f4c3.js";import"./0458ce8d.js";import"./b23c6efb.js";import"./aa2bb52c.js";import"./0ef2dea0.js";import"./2011fe48.js";import"./bb74cdc9.js";import"./2355e5ce.js";import"./f57264bf.js";import"./e3b67d0b.js";import"./e4503c3c.js";import"./489009e5.js";import"./270d8bef.js";import"./65f69356.js";import"./8b312de9.js";import"./0f1ce05e.js";import"./4bb33aa7.js";import"./30fe9e3e.js";import"./dd943fa4.js";import"./4885c229.js";import"./910d1024.js";import"./cddab8fd.js";import"./9fbfad97.js";import"./3d76d18f.js";import"./1f7ed27e.js";import"./70b7956e.js";import"./01dc974a.js";import"./151ecba3.js";import"./241d75a0.js";import"./ee2f9ce0.js";import"./ebe67c13.js";import"./0d8232c6.js";const g={name:"ServerDataTable",extends:i,data(){return{page:1,sortDesc:[],itemsPerPage:this.value.data.totalPerPage}},methods:{resetParams(){this.page=1,this.search="",this.sortBy=[],this.sortDesc=[],this.itemsPerPage=this.value.data.totalPerPage,this.generateParams()},generateParams(){const s=this.sortBy.length,t={page:this.page,itemsPerPage:this.itemsPerPage};if(this.search&&(t.search=this.search),s){t.sorting=[];for(let o=0;o<s;o++){const e=this.sortBy[o],a=this.sortDesc[o]?"desc":"asc";t.sorting.push(`${e}_${a}`)}}this.$store.commit(`${this.vuexNamespace}/setParams`,t),this.load()},updateOptions({page:s,itemsPerPage:t,sortBy:o,sortDesc:e}){this.page=s,this.sortBy=o,this.sortDesc=e,this.itemsPerPage=t,this.generateParams()},updateSearch:n.exports.debounce(function(){this.page=1,this.generateParams()},500)}};var f=function(){var t=this,o=t._self._c;return o("div",[t.headers.length?t._e():[o("skeleton-data-table")],o(p,{directives:[{name:"show",rawName:"v-show",value:t.headers.length,expression:"headers.length"}],class:{[`rounded-lg v-sheet--outlined ${t.elevation}`]:!t.component.data.isFlat},attrs:{items:t.items,headers:t.headers,page:t.page,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"items-per-page":t.itemsPerPage,"server-items-length":t.total,"footer-props":{itemsPerPageOptions:t.component.data.totalPerPageOptions},"multi-sort":"","calculate-widths":""},on:{"update:page":function(e){t.page=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:options":t.updateOptions},scopedSlots:t._u([{key:"top",fn:function(){return[t.component.content.title?o(c,{staticClass:"px-4 pt-3",attrs:{"no-gutters":""}},[o("span",{staticClass:"headline"},[t._v(t._s(t.component.content.title))])]):t._e(),o(u,{staticClass:"px-4",attrs:{flat:"",color:"transparent"}},[t.component.data.prepend?o(t.component.data.prepend.componentName,{tag:"component",attrs:{value:t.component.data.prepend}}):t._e(),o(d),t.component.data.append?o(t.component.data.append.componentName,{tag:"component",attrs:{value:t.component.data.append}}):t._e(),t.component.data.searchable?[o(_,{staticClass:"mr-auto",staticStyle:{"max-width":"500px"},attrs:{label:t.$vuetify.lang.t("$vuetify.word.search"),dense:"",outlined:"","hide-details":""},on:{input:t.updateSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]:t._e()],2)]},proxy:!0},t._l(t.customItems,function(e){return{key:`item.${e}`,fn:function({item:a,index:r}){return[a[e].hasOwnProperty("componentName")?o(a[e].componentName,{key:a[e].identifier,tag:"component",attrs:{value:a[e]}}):o("div",{key:`${e}_${r}`},[t._v(" "+t._s(a[e])+" ")])]}}}),t.component.data.refreshButton?{key:"footer.prepend",fn:function(){return[o(h,{attrs:{icon:""}},[o(l,{on:{click:t.getItems}},[t._v(" fas fa-sync-alt ")])],1)]},proxy:!0}:null],null,!0)}),t._t("default")],2)},P=[],v=m(g,f,P,!1,null,null,null,null);const pt=v.exports;export{pt as default};
