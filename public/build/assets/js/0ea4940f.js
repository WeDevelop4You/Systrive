import{m,a7 as n}from"./e60bc734.js";import{F as u}from"./f55d25f8.js";import{n as p}from"./75131b1e.js";import{b as d,d as r}from"./10397c83.js";import{_ as l}from"./8120e62c.js";import{_ as c}from"./2104be18.js";import"./ec66acc7.js";import"./5eaf0fa2.js";import"./81675aae.js";import"./3b2a12b3.js";import"./5b3c2e28.js";import"./d66c24b9.js";import"./0f1ce05e.js";import"./9b90040d.js";import"./f57264bf.js";import"./92820de3.js";import"./66747920.js";import"./d347382f.js";import"./4e148495.js";import"./f389e713.js";import"./51e51f33.js";import"./d392828f.js";import"./b679832c.js";import"./01675ed1.js";import"./4dfd685f.js";import"./bcd1e32a.js";import"./98dbeb61.js";import"./b621b831.js";import"./fa6040c8.js";import"./ddc45728.js";import"./7a549336.js";import"./53f414c1.js";import"./ac801486.js";import"./3f642203.js";import"./eb5f8f4c.js";const f={mixins:[u],props:{vuexNamespace:{required:!0,type:String}},computed:{data:{get(){return this.$store.getters[`${this.vuexNamespace}/data`]},set(a){this.$store.commit(`${this.vuexNamespace}/setData`,a)}},isEditing(){return this.$store.getters[`${this.vuexNamespace}/isEditing`]},error(){return this.$store.getters[`${this.vuexNamespace}/error`]},errors(){return this.$store.getters[`${this.vuexNamespace}/errors`]}}},v={name:"DomainForm",mixins:[f],data(){return{aliasValue:"",invalidAlies:""}},computed:{...m({templates:"system/template/list"})},created(){this.$store.dispatch("system/template/getList","web")},methods:{addAlias(){let a=this.aliasValue;this.invalidAlies="",a&&(n.get(a)===null&&(a+=`.${this.data.name}`),n.isValid(a)||a.startsWith("*")?this.data.aliases.some(i=>{if(i.value===a)return!0})?this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.exist.alias"):(this.data.aliases.push({value:a}),this.aliasValue=""):this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.in_valid_alies"))},removeAlias(a){this.data.aliases.splice(a,1)}}};var _=function(){var e=this,i=e._self._c;return i(d,{attrs:{dense:""}},[i(r,{attrs:{cols:"12"}},[i(l,{attrs:{disabled:e.isEditing,"error-messages":e.errors.name,label:e.$vuetify.lang.t("$vuetify.word.domain"),dense:"",outlined:"","hide-details":"auto"},on:{input:function(t){return e.clearError("name")}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._l(e.data.aliases,function(t,o){return i(r,{key:o,attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.errors.aliases,dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-minus"},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"delete",[8,46],s.key,["Backspace","Delete","Del"])?null:e.removeAlias(o)},"click:append-outer":function(s){return e.removeAlias(o)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"alias.value"}})],1)}),i(r,{attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.invalidAlies,label:e.$vuetify.lang.t("$vuetify.word.aliases"),dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-plus"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAlias.apply(null,arguments)},"click:append-outer":e.addAlias,input:function(t){e.invalidAlies=""}},model:{value:e.aliasValue,callback:function(t){e.aliasValue=t},expression:"aliasValue"}})],1),i(r,{attrs:{cols:"12"}},[i(c,{attrs:{items:e.templates,"error-messages":e.errors.template,label:e.$vuetify.lang.t("$vuetify.word.template.web"),"hide-details":"auto",clearable:"",dense:"",outlined:""},on:{input:function(t){return e.clearError("template")}},model:{value:e.data.template,callback:function(t){e.$set(e.data,"template",t)},expression:"data.template"}})],1)],2)},h=[],g=p(v,_,h,!1,null,null,null,null);const ee=g.exports;export{ee as default};
