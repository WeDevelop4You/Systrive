import{V as R,x as B,k as w}from"./e7f3491a.js";const E={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function P(e=[]){return R.extend({name:"positionable",props:e.length?B(E,e):E})}const M=P();const N=80;function L(e,t){e.style.transform=t,e.style.webkitTransform=t}function _(e){return e.constructor.name==="TouchEvent"}function T(e){return e.constructor.name==="KeyboardEvent"}const H=(e,t,i={})=>{let r=0,n=0;if(!T(e)){const a=t.getBoundingClientRect(),c=_(e)?e.touches[e.touches.length-1]:e;r=c.clientX-a.left,n=c.clientY-a.top}let o=0,p=.3;t._ripple&&t._ripple.circle?(p=.15,o=t.clientWidth/2,o=i.center?o:o+Math.sqrt((r-o)**2+(n-o)**2)/4):o=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const d=`${(t.clientWidth-o*2)/2}px`,m=`${(t.clientHeight-o*2)/2}px`,v=i.center?d:`${r-o}px`,h=i.center?m:`${n-o}px`;return{radius:o,scale:p,x:v,y:h,centerX:d,centerY:m}},f={show(e,t,i={}){if(!t._ripple||!t._ripple.enabled)return;const r=document.createElement("span"),n=document.createElement("span");r.appendChild(n),r.className="v-ripple__container",i.class&&(r.className+=` ${i.class}`);const{radius:o,scale:p,x:d,y:m,centerX:v,centerY:h}=H(e,t,i),a=`${o*2}px`;n.className="v-ripple__animation",n.style.width=a,n.style.height=a,t.appendChild(r);const c=window.getComputedStyle(t);c&&c.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),n.classList.add("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--visible"),L(n,`translate(${d}, ${m}) scale3d(${p},${p},${p})`),n.dataset.activated=String(performance.now()),setTimeout(()=>{n.classList.remove("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--in"),L(n,`translate(${v}, ${h}) scale3d(1,1,1)`)},0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const r=performance.now()-Number(i.dataset.activated),n=Math.max(250-r,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),i.parentNode&&e.removeChild(i.parentNode)},300)},n)}};function y(e){return typeof e>"u"||!!e}function l(e){const t={},i=e.currentTarget;if(!(!i||!i._ripple||i._ripple.touched||e.rippleStop)){if(e.rippleStop=!0,_(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||T(e),i._ripple.class&&(t.class=i._ripple.class),_(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{f.show(e,i,t)},i._ripple.showTimer=window.setTimeout(()=>{i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},N)}else f.show(e,i,t)}}function s(e){const t=e.currentTarget;if(!(!t||!t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=setTimeout(()=>{s(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),f.hide(t)}}function C(e){const t=e.currentTarget;!t||!t._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let u=!1;function b(e){!u&&(e.keyCode===w.enter||e.keyCode===w.space)&&(u=!0,l(e))}function g(e){u=!1,s(e)}function $(e){u===!0&&(u=!1,s(e))}function k(e,t,i){const r=y(t.value);r||f.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=r;const n=t.value||{};n.center&&(e._ripple.centered=!0),n.class&&(e._ripple.class=t.value.class),n.circle&&(e._ripple.circle=n.circle),r&&!i?(e.addEventListener("touchstart",l,{passive:!0}),e.addEventListener("touchend",s,{passive:!0}),e.addEventListener("touchmove",C,{passive:!0}),e.addEventListener("touchcancel",s),e.addEventListener("mousedown",l),e.addEventListener("mouseup",s),e.addEventListener("mouseleave",s),e.addEventListener("keydown",b),e.addEventListener("keyup",g),e.addEventListener("blur",$),e.addEventListener("dragstart",s,{passive:!0})):!r&&i&&x(e)}function x(e){e.removeEventListener("mousedown",l),e.removeEventListener("touchstart",l),e.removeEventListener("touchend",s),e.removeEventListener("touchmove",C),e.removeEventListener("touchcancel",s),e.removeEventListener("mouseup",s),e.removeEventListener("mouseleave",s),e.removeEventListener("keydown",b),e.removeEventListener("keyup",g),e.removeEventListener("dragstart",s),e.removeEventListener("blur",$)}function S(e,t,i){k(e,t,!1)}function V(e){delete e._ripple,x(e)}function Y(e,t){if(t.value===t.oldValue)return;const i=y(t.oldValue);k(e,t,i)}const X={bind:S,unbind:V,update:Y},W=X;export{M as P,P as f,W as r};
