import{o as w}from"./bdb3efe6.js";const R=80;function E(e,t){e.style.transform=t,e.style.webkitTransform=t}function h(e){return e.constructor.name==="TouchEvent"}function L(e){return e.constructor.name==="KeyboardEvent"}const x=(e,t,i={})=>{let s=0,n=0;if(!L(e)){const a=t.getBoundingClientRect(),c=h(e)?e.touches[e.touches.length-1]:e;s=c.clientX-a.left,n=c.clientY-a.top}let r=0,p=.3;t._ripple&&t._ripple.circle?(p=.15,r=t.clientWidth/2,r=i.center?r:r+Math.sqrt((s-r)**2+(n-r)**2)/4):r=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const u=`${(t.clientWidth-r*2)/2}px`,m=`${(t.clientHeight-r*2)/2}px`,f=i.center?u:`${s-r}px`,_=i.center?m:`${n-r}px`;return{radius:r,scale:p,x:f,y:_,centerX:u,centerY:m}},v={show(e,t,i={}){if(!t._ripple||!t._ripple.enabled)return;const s=document.createElement("span"),n=document.createElement("span");s.appendChild(n),s.className="v-ripple__container",i.class&&(s.className+=` ${i.class}`);const{radius:r,scale:p,x:u,y:m,centerX:f,centerY:_}=x(e,t,i),a=`${r*2}px`;n.className="v-ripple__animation",n.style.width=a,n.style.height=a,t.appendChild(s);const c=window.getComputedStyle(t);c&&c.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),n.classList.add("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--visible"),E(n,`translate(${u}, ${m}) scale3d(${p},${p},${p})`),n.dataset.activated=String(performance.now()),setTimeout(()=>{n.classList.remove("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--in"),E(n,`translate(${f}, ${_}) scale3d(1,1,1)`)},0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const s=performance.now()-Number(i.dataset.activated),n=Math.max(250-s,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var r;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((r=i.parentNode)===null||r===void 0?void 0:r.parentNode)===e&&e.removeChild(i.parentNode)},300)},n)}};function T(e){return typeof e>"u"||!!e}function l(e){const t={},i=e.currentTarget;if(!(!i||!i._ripple||i._ripple.touched||e.rippleStop)){if(e.rippleStop=!0,h(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||L(e),i._ripple.class&&(t.class=i._ripple.class),h(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{v.show(e,i,t)},i._ripple.showTimer=window.setTimeout(()=>{i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},R)}else v.show(e,i,t)}}function o(e){const t=e.currentTarget;if(!(!t||!t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=setTimeout(()=>{o(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),v.hide(t)}}function y(e){const t=e.currentTarget;!t||!t._ripple||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let d=!1;function C(e){!d&&(e.keyCode===w.enter||e.keyCode===w.space)&&(d=!0,l(e))}function g(e){d=!1,o(e)}function $(e){d===!0&&(d=!1,o(e))}function b(e,t,i){const s=T(t.value);s||v.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=s;const n=t.value||{};n.center&&(e._ripple.centered=!0),n.class&&(e._ripple.class=t.value.class),n.circle&&(e._ripple.circle=n.circle),s&&!i?(e.addEventListener("touchstart",l,{passive:!0}),e.addEventListener("touchend",o,{passive:!0}),e.addEventListener("touchmove",y,{passive:!0}),e.addEventListener("touchcancel",o),e.addEventListener("mousedown",l),e.addEventListener("mouseup",o),e.addEventListener("mouseleave",o),e.addEventListener("keydown",C),e.addEventListener("keyup",g),e.addEventListener("blur",$),e.addEventListener("dragstart",o,{passive:!0})):!s&&i&&k(e)}function k(e){e.removeEventListener("mousedown",l),e.removeEventListener("touchstart",l),e.removeEventListener("touchend",o),e.removeEventListener("touchmove",y),e.removeEventListener("touchcancel",o),e.removeEventListener("mouseup",o),e.removeEventListener("mouseleave",o),e.removeEventListener("keydown",C),e.removeEventListener("keyup",g),e.removeEventListener("dragstart",o),e.removeEventListener("blur",$)}function N(e,t,i){b(e,t,!1)}function H(e){delete e._ripple,k(e)}function S(e,t){if(t.value===t.oldValue)return;const i=T(t.oldValue);b(e,t,i)}const P={bind:N,unbind:H,update:S},X=P;export{X as r};
