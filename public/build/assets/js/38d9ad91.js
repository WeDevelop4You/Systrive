import{m,a2 as n}from"./feafbc55.js";import{F as u}from"./f55d25f8.js";import{n as p}from"./75131b1e.js";import{b as d,d as r}from"./627c4e78.js";import{_ as l}from"./4dbee51f.js";import{_ as c}from"./d3a851a0.js";import"./0631847e.js";import"./efa8d6c3.js";import"./9ac5599c.js";import"./e05367ee.js";import"./7f872bef.js";import"./26688549.js";import"./0f1ce05e.js";import"./d0d927ab.js";import"./f57264bf.js";import"./fc149ebf.js";import"./717a5e3b.js";import"./d342cd9d.js";import"./7d2f04f0.js";import"./95dd51c2.js";import"./76f91a17.js";import"./3a43f35c.js";import"./1fec3443.js";import"./c395c583.js";import"./06f2725c.js";import"./bb18b195.js";import"./6ccc2df7.js";import"./4b49aa8e.js";import"./b5c144e7.js";import"./96c5e212.js";import"./87fe7e0c.js";import"./80dcca67.js";import"./e1e1cf59.js";import"./460034c3.js";import"./bca9cab1.js";const f={mixins:[u],props:{vuexNamespace:{required:!0,type:String}},computed:{data:{get(){return this.$store.getters[`${this.vuexNamespace}/data`]},set(a){this.$store.commit(`${this.vuexNamespace}/setData`,a)}},isEditing(){return this.$store.getters[`${this.vuexNamespace}/isEditing`]},error(){return this.$store.getters[`${this.vuexNamespace}/error`]},errors(){return this.$store.getters[`${this.vuexNamespace}/errors`]}}},v={name:"DomainForm",mixins:[f],data(){return{aliasValue:"",invalidAlies:""}},computed:{...m({templates:"system/template/list"})},created(){this.$store.dispatch("system/template/getList","web")},methods:{addAlias(){let a=this.aliasValue;this.invalidAlies="",a&&(n.get(a)===null&&(a+=`.${this.data.name}`),n.isValid(a)||a.startsWith("*")?this.data.aliases.some(i=>{if(i.value===a)return!0})?this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.exist.alias"):(this.data.aliases.push({value:a}),this.aliasValue=""):this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.in_valid_alies"))},removeAlias(a){this.data.aliases.splice(a,1)}}};var _=function(){var e=this,i=e._self._c;return i(d,{attrs:{dense:""}},[i(r,{attrs:{cols:"12"}},[i(l,{attrs:{disabled:e.isEditing,"error-messages":e.errors.name,label:e.$vuetify.lang.t("$vuetify.word.domain"),dense:"",outlined:"","hide-details":"auto"},on:{input:function(t){return e.clearError("name")}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._l(e.data.aliases,function(t,o){return i(r,{key:o,attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.errors.aliases,dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-minus"},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"delete",[8,46],s.key,["Backspace","Delete","Del"])?null:e.removeAlias(o)},"click:append-outer":function(s){return e.removeAlias(o)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"alias.value"}})],1)}),i(r,{attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.invalidAlies,label:e.$vuetify.lang.t("$vuetify.word.aliases"),dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-plus"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAlias.apply(null,arguments)},"click:append-outer":e.addAlias,input:function(t){e.invalidAlies=""}},model:{value:e.aliasValue,callback:function(t){e.aliasValue=t},expression:"aliasValue"}})],1),i(r,{attrs:{cols:"12"}},[i(c,{attrs:{items:e.templates,"error-messages":e.errors.template,label:e.$vuetify.lang.t("$vuetify.word.template.web"),"hide-details":"auto",clearable:"",dense:"",outlined:""},on:{input:function(t){return e.clearError("template")}},model:{value:e.data.template,callback:function(t){e.$set(e.data,"template",t)},expression:"data.template"}})],1)],2)},h=[],g=p(v,_,h,!1,null,null,null,null);const ee=g.exports;export{ee as default};
