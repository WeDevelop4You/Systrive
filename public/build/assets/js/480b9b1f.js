import{F as o}from"./11811950.js";import{n as a}from"./75131b1e.js";import{_ as c}from"./4dbee51f.js";import"./feafbc55.js";import"./dfc93a5e.js";import"./f55d25f8.js";import"./0631847e.js";import"./627c4e78.js";import"./efa8d6c3.js";import"./9ac5599c.js";import"./e05367ee.js";import"./7f872bef.js";import"./26688549.js";import"./0f1ce05e.js";import"./d0d927ab.js";import"./f57264bf.js";const l={name:"NumberInput",extends:o,data(){return{total:6,places:2,regex:"",number:"",original:"",isNumeric:!1}},created(){const t=this.component.data.isNumeric||!1;this.isNumeric=t,this.original=this.input,this.total=this.component.data.total,this.places=this.component.data.places,this.regex=t?"[^0-9.]":"[^0-9]"},methods:{handler(t){this.$nextTick(()=>{const e=this.$refs.number.$refs.input,s=e.selectionStart;let i=this.format(t);this.isNumeric&&(i=this.formatNumeric(i)),t.startsWith("-")&&(i=`-${i}`),this.setValue(i),this.$nextTick(()=>{const r=s-(i!==t);e.setSelectionRange(s,r,"none")})}),this.clearError(this.key)},format(t){return t.replace(",",".").replace(new RegExp(this.regex,"g"),"")},setValue(t){this.original=t,this.setData(this.key,t)},formatNumeric(t){const e=t.includes("."),s=e?this.findDotIndex(t):t.length,i=t.substring(0,s).replace(".",""),n=t.substring(s+1).replace(".","").substring(0,this.places);let r=i;return i.length>this.total&&(r=i.slice(-this.total)),e&&(r+=`.${n}`),r},findDotIndex(t){let e=t.indexOf(".");return this.original!==null&&t.split("").every((s,i)=>s!==this.original.charAt(i)&&s==="."?(e=i,!1):!0),e}}};var m=function(){var e=this,s=e._self._c;return s(c,e._b({directives:[{name:"show",rawName:"v-show",value:e.isHidden,expression:"isHidden"}],ref:"number",class:[{"v-input-hidden":!e.isHidden},e.component.attributes.class],attrs:{value:e.input,disabled:e.isDisabled,label:e.component.content.label,"error-messages":e.errorMessages,"hide-details":e.hideDetails},on:{input:function(i){return e.handler(i)}}},"v-text-field",e.component.attributes,!1))},p=[],u=a(l,m,p,!1,null,null,null,null);const F=u.exports;export{F as default};
