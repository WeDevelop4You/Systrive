import{m,a7 as n}from"./5ecbb865.js";import{F as u}from"./f55d25f8.js";import{n as p}from"./75131b1e.js";import{b as d,d as r}from"./e0db1d00.js";import{_ as l}from"./c71827a8.js";import{_ as c}from"./5f021645.js";import"./76252812.js";import"./16a5c7a5.js";import"./63395702.js";import"./10723b79.js";import"./4d23891e.js";import"./e4160f91.js";import"./0f1ce05e.js";import"./00924962.js";import"./f57264bf.js";import"./d6e1396f.js";import"./2988b03e.js";import"./4f3425ab.js";import"./62678420.js";import"./a097d4c0.js";import"./165252c7.js";import"./c1698eeb.js";import"./8f3521ec.js";import"./0e939e68.js";import"./ed6ab0a1.js";import"./89ff418b.js";import"./f72d6ec9.js";import"./23e0ddc0.js";import"./be706740.js";import"./b17e7ff8.js";import"./8c509b8f.js";import"./f5ffbe96.js";import"./6738fc27.js";import"./4138e54f.js";import"./caa09a2a.js";const f={mixins:[u],props:{vuexNamespace:{required:!0,type:String}},computed:{data:{get(){return this.$store.getters[`${this.vuexNamespace}/data`]},set(a){this.$store.commit(`${this.vuexNamespace}/setData`,a)}},isEditing(){return this.$store.getters[`${this.vuexNamespace}/isEditing`]},error(){return this.$store.getters[`${this.vuexNamespace}/error`]},errors(){return this.$store.getters[`${this.vuexNamespace}/errors`]}}},v={name:"DomainForm",mixins:[f],data(){return{aliasValue:"",invalidAlies:""}},computed:{...m({templates:"system/template/list"})},created(){this.$store.dispatch("system/template/getList","web")},methods:{addAlias(){let a=this.aliasValue;this.invalidAlies="",a&&(n.get(a)===null&&(a+=`.${this.data.name}`),n.isValid(a)||a.startsWith("*")?this.data.aliases.some(i=>{if(i.value===a)return!0})?this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.exist.alias"):(this.data.aliases.push({value:a}),this.aliasValue=""):this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.in_valid_alies"))},removeAlias(a){this.data.aliases.splice(a,1)}}};var _=function(){var e=this,i=e._self._c;return i(d,{attrs:{dense:""}},[i(r,{attrs:{cols:"12"}},[i(l,{attrs:{disabled:e.isEditing,"error-messages":e.errors.name,label:e.$vuetify.lang.t("$vuetify.word.domain"),dense:"",outlined:"","hide-details":"auto"},on:{input:function(t){return e.clearError("name")}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._l(e.data.aliases,function(t,o){return i(r,{key:o,attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.errors.aliases,dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-minus"},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"delete",[8,46],s.key,["Backspace","Delete","Del"])?null:e.removeAlias(o)},"click:append-outer":function(s){return e.removeAlias(o)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"alias.value"}})],1)}),i(r,{attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.invalidAlies,label:e.$vuetify.lang.t("$vuetify.word.aliases"),dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-plus"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAlias.apply(null,arguments)},"click:append-outer":e.addAlias,input:function(t){e.invalidAlies=""}},model:{value:e.aliasValue,callback:function(t){e.aliasValue=t},expression:"aliasValue"}})],1),i(r,{attrs:{cols:"12"}},[i(c,{attrs:{items:e.templates,"error-messages":e.errors.template,label:e.$vuetify.lang.t("$vuetify.word.template.web"),"hide-details":"auto",clearable:"",dense:"",outlined:""},on:{input:function(t){return e.clearError("template")}},model:{value:e.data.template,callback:function(t){e.$set(e.data,"template",t)},expression:"data.template"}})],1)],2)},h=[],g=p(v,_,h,!1,null,null,null,null);const ee=g.exports;export{ee as default};
