import{M as n}from"./e7f3491a.js";import{T as i,_ as p}from"./8135fa95.js";import{n as l}from"./75131b1e.js";import{a as c,_ as u}from"./e49d6570.js";import{_ as m,b as d}from"./565d0a3f.js";import{_}from"./1a76431f.js";import{_ as h}from"./deb7aee4.js";import"./96434ee2.js";import"./7e4f6779.js";import"./27a2dbc0.js";import"./1b4d6d80.js";import"./144f342e.js";import"./43c2ae48.js";import"./3c8ef561.js";import"./ec463e66.js";import"./7dfb015d.js";import"./a32e6dc5.js";import"./b2c5c233.js";import"./f57264bf.js";import"./64b64aa2.js";import"./fda1b7fa.js";import"./91db33cc.js";import"./af299172.js";import"./23ad9365.js";import"./2405caaf.js";import"./bb499c46.js";import"./0d3096cc.js";import"./8b47565b.js";const g={name:"ServerDataTable",mixins:[i],data(){return{page:1,sortDesc:[],itemsPerPage:this.totalPerPage}},methods:{resetParams(){this.page=1,this.search="",this.sortBy=[],this.sortDesc=[],this.itemsPerPage=this.totalPerPage,this.generateParams()},generateParams(){const r=this.sortBy.length,t={page:this.page,itemPerPage:this.itemsPerPage};if(this.search&&(t.search=this.search),r){t.sorting=[];for(let a=0;a<r;a++){const e=this.sortBy[a],s=this.sortDesc[a]?"desc":"asc";t.sorting.push(`${e}_${s}`)}}this.$store.commit(`${this.vuexNamespace}/setParams`,t),this.load()},updateOptions({page:r,itemsPerPage:t,sortBy:a,sortDesc:e}){this.page=r,this.sortBy=a,this.sortDesc=e,this.itemsPerPage=t,this.generateParams()},updateSearch:n.debounce(function(){this.page=1,this.generateParams()},500)}};var f=function(){var t=this,a=t._self._c;return a("div",[t.headers.length?t._e():[a("skeleton-data-table")],a(p,{directives:[{name:"show",rawName:"v-show",value:t.headers.length,expression:"headers.length"}],class:{[`rounded-lg v-sheet--outlined ${t.elevation}`]:!t.value.data.isFlat},attrs:{items:t.items,page:t.page,headers:t.headers,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"items-per-page":t.itemsPerPage,"server-items-length":t.total,"footer-props":{itemsPerPageOptions:t.totalPerPageOptions},"multi-sort":"","calculate-widths":""},on:{"update:page":function(e){t.page=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:options":t.updateOptions},scopedSlots:t._u([{key:"top",fn:function(){return[t.value.content.title?a(c,{staticClass:"px-4 pt-3",attrs:{"no-gutters":""}},[a("span",{staticClass:"headline"},[t._v(t._s(t.value.content.title))])]):t._e(),a(m,{staticClass:"px-4",attrs:{flat:"",color:"transparent"}},[t.value.data.prepend?a(t.value.data.prepend.componentName,{tag:"component",attrs:{value:t.value.data.prepend}}):t._e(),a(d),t.value.data.append?a(t.value.data.append.componentName,{tag:"component",attrs:{value:t.value.data.append}}):t._e(),t.searchable?[a(_,{staticClass:"mr-auto",staticStyle:{"max-width":"500px"},attrs:{label:t.$vuetify.lang.t("$vuetify.word.search"),dense:"",outlined:"","hide-details":""},on:{input:t.updateSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]:t._e()],2)]},proxy:!0},t._l(t.customItems,function(e){return{key:`item.${e}`,fn:function({item:s,index:o}){return[s[e].hasOwnProperty("componentName")?a(s[e].componentName,{key:s[e].identifier,tag:"component",attrs:{value:s[e]}}):a("div",{key:`${e}_${o}`},[t._v(" "+t._s(s[e])+" ")])]}}}),t.refreshButton?{key:"footer.prepend",fn:function(){return[a(h,{attrs:{icon:""}},[a(u,{on:{click:t.load}},[t._v(" fas fa-sync-alt ")])],1)]},proxy:!0}:null],null,!0)}),t._t("default")],2)},v=[],P=l(g,f,v,!1,null,null,null,null);const V=P.exports;export{V as default};
