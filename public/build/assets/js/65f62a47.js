var T=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>(T(e,t,"read from private field"),s?s.call(e):t.get(e)),n=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},d=(e,t,s,a)=>(T(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s);var E=(e,t,s)=>(T(e,t,"access private method"),s);const g="create",w="edit",L="show",R=[g,w,L];var i,o,u,p,A,_,f,P;class k{constructor(t,s,a){n(this,A);n(this,f);n(this,i,void 0);n(this,o,void 0);n(this,u,void 0);n(this,p,[]);d(this,i,t),d(this,o,s),d(this,u,a)}convertStringToRouteParams(){const t=r(this,u).currentRoute,s=t.params.chapters,a=t.meta.allowedStates||[];if(s!==void 0&&!Array.isArray(s)){const S=s.split("/"),y=S.length;if(y>0)for(let h=0;h<y;){const m=S[h],l={state:m,params:{}},b=()=>{const c=S[++h];return R.includes(c)||h>=y?l.params:(!isNaN(c)&&c%1===0&&c>0?l.params.id=c:l.params.type=c,b())};if(a.includes(m)){const c={state:m,...b()};switch(m){case g:case w:r(this,i).$state.setParams("form",c);break;case L:r(this,i).$state.setParams("show",c);break}r(this,p).push(l)}else h++}}}runStateAction(t){var s;if(r(this,p).length>0){const a=r(this,p).shift();a.params.type!==void 0&&(t=(s=E(this,f,P).call(this,a.params.type))!=null?s:t),r(this,o).dispatch(`${t}/states`,a).catch(()=>{})}}}i=new WeakMap,o=new WeakMap,u=new WeakMap,p=new WeakMap,A=new WeakSet,_=function(){const t=r(this,i);r(this,o).subscribeAction({before:s=>{t.$activity.addVuexNamespace(s.type)}})},f=new WeakSet,P=function(t){switch(t){case"user":return"company/users";case"role":return"company/roles";case"cms":return"company/cms";case"table":return"cms/table";default:return}};export{k as L,g as S,w as a,L as b,R as c};
