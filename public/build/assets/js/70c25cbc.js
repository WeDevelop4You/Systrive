import{m,a2 as n}from"./12a8f78c.js";import{F as u}from"./f55d25f8.js";import{n as p}from"./75131b1e.js";import{b as d,d as r}from"./dcc38a7c.js";import{_ as l}from"./69c0631b.js";import{_ as c}from"./9ce2d873.js";import"./c8f02950.js";import"./517420cd.js";import"./fe993f4a.js";import"./887f6627.js";import"./6dc30b97.js";import"./bda96ba9.js";import"./0f1ce05e.js";import"./4516f3b3.js";import"./f57264bf.js";import"./e83c81e5.js";import"./2de5bdf0.js";import"./aeff811c.js";import"./f03d37af.js";import"./12d57222.js";import"./42aaffeb.js";import"./8dd6728f.js";import"./1b9ea462.js";import"./068f7ff1.js";import"./2610d196.js";import"./0a0e57c8.js";import"./63539db6.js";import"./4e01a737.js";import"./8e2d7f23.js";import"./3f0873a2.js";import"./dd17033c.js";import"./da1824ff.js";import"./d4d55fcc.js";import"./6590abf9.js";import"./d2e49a62.js";const f={mixins:[u],props:{vuexNamespace:{required:!0,type:String}},computed:{data:{get(){return this.$store.getters[`${this.vuexNamespace}/data`]},set(a){this.$store.commit(`${this.vuexNamespace}/setData`,a)}},isEditing(){return this.$store.getters[`${this.vuexNamespace}/isEditing`]},error(){return this.$store.getters[`${this.vuexNamespace}/error`]},errors(){return this.$store.getters[`${this.vuexNamespace}/errors`]}}},v={name:"DomainForm",mixins:[f],data(){return{aliasValue:"",invalidAlies:""}},computed:{...m({templates:"system/template/list"})},created(){this.$store.dispatch("system/template/getList","web")},methods:{addAlias(){let a=this.aliasValue;this.invalidAlies="",a&&(n.get(a)===null&&(a+=`.${this.data.name}`),n.isValid(a)||a.startsWith("*")?this.data.aliases.some(i=>{if(i.value===a)return!0})?this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.exist.alias"):(this.data.aliases.push({value:a}),this.aliasValue=""):this.invalidAlies=this.$vuetify.lang.t("$vuetify.text.in_valid_alies"))},removeAlias(a){this.data.aliases.splice(a,1)}}};var _=function(){var e=this,i=e._self._c;return i(d,{attrs:{dense:""}},[i(r,{attrs:{cols:"12"}},[i(l,{attrs:{disabled:e.isEditing,"error-messages":e.errors.name,label:e.$vuetify.lang.t("$vuetify.word.domain"),dense:"",outlined:"","hide-details":"auto"},on:{input:function(t){return e.clearError("name")}},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._l(e.data.aliases,function(t,o){return i(r,{key:o,attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.errors.aliases,dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-minus"},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"delete",[8,46],s.key,["Backspace","Delete","Del"])?null:e.removeAlias(o)},"click:append-outer":function(s){return e.removeAlias(o)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"alias.value"}})],1)}),i(r,{attrs:{cols:"12"}},[i(l,{attrs:{"error-messages":e.invalidAlies,label:e.$vuetify.lang.t("$vuetify.word.aliases"),dense:"",outlined:"","hide-details":"auto","append-outer-icon":"fas fa-plus"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAlias.apply(null,arguments)},"click:append-outer":e.addAlias,input:function(t){e.invalidAlies=""}},model:{value:e.aliasValue,callback:function(t){e.aliasValue=t},expression:"aliasValue"}})],1),i(r,{attrs:{cols:"12"}},[i(c,{attrs:{items:e.templates,"error-messages":e.errors.template,label:e.$vuetify.lang.t("$vuetify.word.template.web"),"hide-details":"auto",clearable:"",dense:"",outlined:""},on:{input:function(t){return e.clearError("template")}},model:{value:e.data.template,callback:function(t){e.$set(e.data,"template",t)},expression:"data.template"}})],1)],2)},h=[],g=p(v,_,h,!1,null,null,null,null);const ee=g.exports;export{ee as default};
