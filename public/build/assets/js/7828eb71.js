var f=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var p=(r,t,e)=>(f(r,t,"read from private field"),e?e.call(r):t.get(r)),h=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},P=(r,t,e,a)=>(f(r,t,"write to private field"),a?a.call(r,e):t.set(r,e),e);var l=(r,t,e)=>(f(r,t,"access private method"),e);import{F as $,V as S,N as y}from"./feafbc55.js";import{S as E,a as T,b as O}from"./a0bb82aa.js";const c=S.prototype,w={namespaced:!0,actions:{create({commit:r},t){c.$api.call({url:t,method:"GET"}).then(e=>{r("form/setCreate",e.data.data)})},store({commit:r,getters:t},e){return c.$api.call({url:e,method:"POST",data:t["form/data"]}).catch(a=>(r("form/setErrors",a.response.data.errors),Promise.reject()))},edit({commit:r},t){c.$api.call({url:t,method:"GET"}).then(e=>{r("form/setEdit",e.data.data)}).catch(()=>{c.$state.resetForm()})},update({commit:r,getters:t},e){const a=t["form/data"];return c.$api.call({url:e,method:"PATCH",data:{roles:a.roles,permissions:a.permissions}}).catch(s=>(r("form/setErrors",s.response.data.errors),Promise.reject()))},states({dispatch:r},t){({[E]:()=>{r("create",c.$api.companyRoute("company.user.invite"))},[T]:()=>{r("edit",c.$api.companyRoute("company.user.edit",t.params.id))}})[t.state]()}},modules:{form:$()}},n=S.prototype,A={namespaced:!0,actions:{create({commit:r},t){n.$api.call({url:t,method:"GET"}).then(e=>{r("form/setCreate",e.data.data)})},store({commit:r,dispatch:t,getters:e},a){return n.$api.call({url:a,method:"POST",data:e["form/data"]}).catch(s=>{const o=s.response.data.errors||{};return r("form/setErrors",o),Object.prototype.hasOwnProperty.call(o,"permissions")&&t("popups/addPopup",y.createSimple(o.permissions[0]),{root:!0}),Promise.reject()})},edit({commit:r},t){n.$api.call({url:t,method:"GET"}).then(e=>{r("form/setEdit",e.data.data)})},update({commit:r,dispatch:t,getters:e},a){return n.$api.call({url:a,method:"PATCH",data:e["form/data"]}).catch(s=>{const o=s.response.data.errors||{};return r("form/setErrors",o),Object.prototype.hasOwnProperty.call(o,"permissions")&&t("popups/addPopup",y.createSimple(o.permissions[0]),{root:!0}),Promise.reject()})},states({dispatch:r},t){({[E]:()=>{r("create",n.$api.companyRoute("company.role.create"))},[T]:()=>{r("edit",n.$api.companyRoute("company.role.edit",t.params.id))}})[t.state]()}},modules:{form:$()}};var d,m,i,u;class C{constructor(t){h(this,i);h(this,d,void 0);h(this,m,{});P(this,d,t)}setForm(t,e){var s;let a={state:t?T:E,...e};l(s=this.setParams("form",a),i,u).call(s)}setShow(t){var a;const e={state:O,...t};l(a=this.setParams("show",e),i,u).call(a)}resetForm(){delete p(this,m).form,l(this,i,u).call(this)}resetShow(){delete p(this,m).show,l(this,i,u).call(this)}setParams(t,e){return Object.assign(p(this,m),{[t]:e}),this}}d=new WeakMap,m=new WeakMap,i=new WeakSet,u=function(){let t=[],e=p(this,d).currentRoute;for(let a of Object.entries(p(this,m)))t=t.concat(Object.values(a[1]));e.params.chapters=t,p(this,d).replace(e).catch(()=>{})};export{A as R,C as S,w as U};
