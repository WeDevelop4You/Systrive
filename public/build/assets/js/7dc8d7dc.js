import{n as m}from"./75131b1e.js";import{_ as c}from"./65408c0c.js";import{b as r,e as p,d as n}from"./590a28b7.js";import{E as u}from"./e11e0046.js";import{C as _}from"./3e51f459.js";import{_ as d}from"./c0fb9684.js";import{_ as f,a,b as i}from"./680c46f3.js";import{_ as o}from"./3056b484.js";import"./6208e2c9.js";import"./e563f8fc.js";import"./068f1a9e.js";import"./2cf78807.js";import"./58bb7c08.js";import"./21c07f9a.js";import"./cafb4e72.js";import"./de067bf9.js";import"./d291a8b0.js";import"./0f1ce05e.js";import"./17ad2ca9.js";import"./f57264bf.js";import"./ed0b44fa.js";import"./15010e3a.js";import"./6bd6fa12.js";import"./f2966feb.js";const g={name:"LoadingImage",props:{alt:{required:!0,type:String},src:{required:!0,type:String},maxWidth:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},minHeight:{type:[String,Number],default:""},lazySrc:{type:String,default:""}}};var h=function(){var t=this,e=t._self._c;return e(c,{attrs:{alt:t.alt,src:t.src,"lazy-src":t.lazySrc,"max-width":t.maxWidth,"min-width":t.minWidth,"max-height":t.maxHeight,"min-height":t.minHeight},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e(r,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e(p,{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})},v=[],y=m(g,h,v,!1,null,null,null,null);const x=y.exports,$={name:"OneTimePasswordForm",components:{LoadingImage:x,ErrorMessage:u},mixins:[_],data(){return{step:1}},methods:{close(){this.$store.commit("popups/removeModal"),this.$store.commit(`${this.vuexNamespace}/resetForm`)},validate(){this.$store.dispatch("user/auth/settings/validateOneTimePassword")}}};var w=function(){var t=this,e=t._self._c;return e(f,{attrs:{vertical:"",tile:"",flat:""},model:{value:t.step,callback:function(s){t.step=s},expression:"step"}},[e(a,{attrs:{complete:t.step>1,step:"1"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.word.scan.qr.code"))+" ")]),e(i,{attrs:{step:"1"}},[e("p",{domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.text.how.to.enable.2fa"))}}),e("loading-image",{staticClass:"mx-auto mb-3",attrs:{src:t.data.QRCode,alt:"2fa-qr-code","max-width":"200","max-height":"200","min-height":"200"}}),e("l-buttons",{attrs:{"no-padding":""}},[e(o,{attrs:{text:""},domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.word.cancel.cancel"))},on:{click:t.close}}),e(o,{attrs:{color:"primary",disabled:t.$loading},domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.word.next"))},on:{click:function(s){t.step=2}}})],1)],1),e(a,{attrs:{complete:t.step>2,step:"2"}},[t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.word.check.2fa"))+" ")]),e(i,{attrs:{step:"2"}},[e(r,{attrs:{"no-gutters":""}},[e(n,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-3",domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.text.check.2fa"))}})]),e(n,{attrs:{cols:"12"}},[e(d,{staticClass:"mx-auto",staticStyle:{"max-width":"275px"},on:{finish:t.validate},model:{value:t.data.oneTimePassword,callback:function(s){t.$set(t.data,"oneTimePassword",s)},expression:"data.oneTimePassword"}}),e("error-message",{attrs:{message:t.errors.one_time_password}})],1)],1),e(r,{staticClass:"gap-3 justify-end mx-2",attrs:{"no-gutters":""}},[e(o,{attrs:{text:""},domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.word.cancel.cancel"))},on:{click:function(s){t.step=1}}}),e(o,{attrs:{color:"primary",disabled:t.$loading},domProps:{textContent:t._s(t.$vuetify.lang.t("$vuetify.word.check.check"))},on:{click:t.validate}})],1)],1)],1)},C=[],b=m($,w,C,!1,null,null,null,null);const U=b.exports;export{U as default};
