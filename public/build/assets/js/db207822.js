var Rt=(a,c,f)=>{if(!c.has(a))throw TypeError("Cannot "+f)};var pe=(a,c,f)=>(Rt(a,c,"read from private field"),f?f.call(a):c.get(a)),jt=(a,c,f)=>{if(c.has(a))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(a):c.set(a,f)},de=(a,c,f,g)=>(Rt(a,c,"write to private field"),g?g.call(a,f):c.set(a,f),f);var ve=(a,c,f)=>(Rt(a,c,"access private method"),f);import{F as ut,V as U,O as ki,i as xi,S as Oi,A as Ei,L as Ai,P as Li,N as Ri,_ as tt,B as ct,a as me,b as ji,g as Ii,c as Di,d as _e,e as Ni,f as Ui}from"./5ecbb865.js";import{d as rt,U as Hi,R as qi,S as Mi}from"./6185643a.js";import{S as Ut,a as ht,b as be,c as ge,L as zi}from"./08a971a8.js";import{E as $i}from"./f74e9615.js";const Bi={namespaced:!0,actions:{edit(a,c){console.log(c)},update(a,c){console.log(c)}},modules:{dataTable:rt()}},It=U.prototype,Fi={namespaced:!0,actions:{create({commit:a},c){It.$api.call({url:c,method:"GET"}).then(f=>{a("form/setCreate",f.data.data)})},store({commit:a,getters:c},f){return It.$api.call({url:f,method:"POST",data:c["form/data"]}).catch(g=>(a("form/setErrors",g.response.data.errors),Promise.reject()))},states({dispatch:a},c){({[Ut]:()=>{a("create",It.$api.companyRoute("admin.company.cms.create"))}})[c.state]()}},modules:{form:ut(),dataTable:rt()}},Xi={namespaced:!0,state:()=>({id:null}),mutations:{initialize(a,c){a.id=c.id}},getters:{id(a){return a.id}},modules:{cms:Fi,users:Hi,roles:qi}},Ji={namespaced:!0,modules:{dataTable:rt()}},ye=U.prototype,we=()=>({mutations:{setShow(a,c){const f=c?{id:c}:{};ye.$state.setShow(f)},resetShow(){ye.$state.resetShow()}}}),V=U.prototype,Vi={namespaced:!0,state:()=>({}),mutations:{},getters:{},actions:{create({commit:a},c){V.$api.call({url:c,method:"GET"}).then(f=>{a("form/setCreate",f.data.data)})},store({commit:a,getters:c},f){return V.$api.call({url:f,method:"POST",data:c["form/data"]}).catch(g=>(a("form/setErrors",g.response.data.errors),Promise.reject()))},edit({commit:a},c){V.$api.call({url:c,method:"GET"}).then(f=>{a("form/setEdit",f.data.data)}).catch(()=>{V.$state.resetForm()})},update({commit:a,getters:c},f){return V.$api.call({url:f,method:"PATCH",data:c["form/data"]}).catch(g=>(a("form/setErrors",g.response.data.errors),Promise.reject()))},show({commit:a},c){V.$api.call({url:c,method:"GET"}).then(f=>{const g=f.data.data;a("setShow",g.id),a("company/initialize",g,{root:!0})}).catch(()=>{a("resetShow")})},states({dispatch:a},c){({[Ut]:()=>{a("create",V.$api.route("admin.company.invite"))},[ht]:()=>{a("edit",V.$api.route("admin.company.edit",c.params.id))},[be]:()=>{a("show",V.$api.route("admin.company.show",c.params.id))}})[c.state]()}},modules:{form:ut(),show:we(),dataTable:rt()}},W=U.prototype,Wi={namespaced:!0,actions:{create({commit:a},c){W.$api.call({url:c,method:"GET"}).then(()=>{a("form/setCreate",{})})},store({commit:a,getters:c},f){return W.$api.call({url:f,method:"POST",data:c["form/data"]}).catch(g=>(a("form/setErrors",g.response.data.errors||{}),Promise.reject()))},show({commit:a},c){return W.$api.call({url:c,method:"GET"}).then(()=>(a("setShow"),Promise.resolve())).catch(()=>(a("resetShow"),Promise.reject()))},edit({commit:a},c){W.$api.call({url:c,method:"GET"}).then(f=>{a("form/setEdit",f.data.data)})},update({commit:a,getters:c},f){return W.$api.call({url:f,method:"PATCH",data:c["form/data"]}).catch(g=>(a("form/setErrors",g.response.data.errors||{}),Promise.reject()))},states({dispatch:a},c){({[Ut]:()=>{a("create",W.$api.route("admin.supervisor.process.create"))},[ht]:()=>{a("edit",W.$api.route("admin.supervisor.process.edit",c.params.id))},[be]:()=>{a("show",W.$api.route("admin.supervisor.show")).then(()=>{W.$loader.runStateAction("supervisor")})}})[c.state]()}},modules:{show:we(),form:ut(),overview:ki(),dataTable:rt()}},yt=U.prototype,Gi={namespaced:!0,actions:{edit({commit:a},c){yt.$api.call({url:c,method:"GET"}).then(f=>{a("form/setEdit",f.data.data)})},update({getters:a},c){const f=a["form/data"];return yt.$api.call({url:c,method:"PATCH",data:{translations:f.translations}})},changeEnvironment({getters:a,commit:c},f){const g=a["environmentForm/data"];c("dataTable/setItemRoute",yt.$api.route(f,g.environment)),c("dataTable/resetParams")},states({dispatch:a},c){({[ht]:()=>{a("edit",yt.$api.route("admin.translation.edit",c.params.id))}})[c.state]()}},modules:{form:ut(),dataTable:rt(),environmentForm:ut()}};U.use(xi);const Dt=new Oi({modules:{auth:Ei,users:Bi,locale:Ai,popups:Li,company:Xi,monitors:Ji,companies:Vi,navigation:Ri,supervisor:Wi,translations:Gi}}),Qi=[{path:"/dashboard",alias:"/",name:"dashboard",component:()=>tt(()=>import("./4d4aaee5.js"),["assets/js/4d4aaee5.js","assets/js/75131b1e.js"]),meta:{breadcrumbs:({app:a})=>a.$breadcrumbs.setDashboard()}},{path:"/users/:chapters*",name:"admin.users",component:()=>tt(()=>import("./fb26d87e.js"),["assets/js/fb26d87e.js","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/75131b1e.js","assets/js/08a971a8.js"]),props:{value:{data:{route:({app:a})=>a.$api.route("admin.user.overview")}}},meta:{breadcrumbs:({app:a,vuetify:c})=>a.$breadcrumbs.setDashboard().add(new ct(c.lang.t("$vuetify.word.users")))}},{path:"/companies/:chapters*",name:"admin.companies",component:()=>tt(()=>import("./a4828ba5.js"),["assets/js/a4828ba5.js","assets/js/2d81e741.js","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/fb26d87e.js","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/75131b1e.js","assets/js/08a971a8.js"]),meta:{allowedStates:ge,breadcrumbs:({app:a,vuetify:c})=>a.$breadcrumbs.setDashboard().add(new ct(c.lang.t("$vuetify.word.companies")))}},{path:"/translations/:chapters*",name:"admin.translations",component:()=>tt(()=>import("./fb26d87e.js"),["assets/js/fb26d87e.js","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/75131b1e.js","assets/js/08a971a8.js"]),props:{value:{data:{route:({app:a})=>a.$api.route("admin.translation.overview")}}},meta:{allowedStates:[ht],breadcrumbs:({app:a,vuetify:c})=>a.$breadcrumbs.setDashboard().add(new ct(c.lang.t("$vuetify.word.translations")))}},{path:"/monitor",name:"admin.monitor",component:()=>tt(()=>import("./fb26d87e.js"),["assets/js/fb26d87e.js","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/75131b1e.js","assets/js/08a971a8.js"]),props:{value:{data:{route:({app:a})=>a.$api.route("admin.monitor.overview")}}},meta:{allowedStates:[ht],breadcrumbs:({app:a,vuetify:c})=>a.$breadcrumbs.setDashboard().add(new ct(c.lang.t("$vuetify.word.monitor")))}},{path:"/supervisor/:chapters*",name:"admin.supervisor",component:()=>tt(()=>import("./fb26d87e.js"),["assets/js/fb26d87e.js","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/75131b1e.js","assets/js/08a971a8.js"]),props:{value:{data:{loadState:"supervisor",refreshDelay:1e3*60*10,vuexNamespace:"supervisor/overview",route:({app:a})=>a.$api.route("admin.supervisor.overview")}}},meta:{allowedStates:ge,breadcrumbs:({app:a,vuetify:c})=>a.$breadcrumbs.setDashboard().add(new ct(c.lang.t("$vuetify.word.supervisor")))}},{path:"*",redirect:{name:"dashboard"}}];U.use(me);const Nt=new me({mode:"history",routes:Qi});var lt;class Yi extends ji{constructor(f,g){super(f);jt(this,lt,void 0);de(this,lt,g)}companyRoute(f,...g){const P=pe(this,lt).getters["company/id"];return this.route(f,P,...g)}}lt=new WeakMap;var Se={exports:{}};/*!
 * Pusher JavaScript Library v8.0.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(a,c){(function(g,P){a.exports=P()})(window,function(){return function(f){var g={};function P(m){if(g[m])return g[m].exports;var d=g[m]={i:m,l:!1,exports:{}};return f[m].call(d.exports,d,d.exports,P),d.l=!0,d.exports}return P.m=f,P.c=g,P.d=function(m,d,R){P.o(m,d)||Object.defineProperty(m,d,{enumerable:!0,get:R})},P.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},P.t=function(m,d){if(d&1&&(m=P(m)),d&8||d&4&&typeof m=="object"&&m&&m.__esModule)return m;var R=Object.create(null);if(P.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:m}),d&2&&typeof m!="string")for(var C in m)P.d(R,C,function(G){return m[G]}.bind(null,C));return R},P.n=function(m){var d=m&&m.__esModule?function(){return m.default}:function(){return m};return P.d(d,"a",d),d},P.o=function(m,d){return Object.prototype.hasOwnProperty.call(m,d)},P.p="",P(P.s=2)}([function(f,g,P){var m=this&&this.__extends||function(){var y=function(h,l){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var j in E)E.hasOwnProperty(j)&&(b[j]=E[j])},y(h,l)};return function(h,l){y(h,l);function b(){this.constructor=h}h.prototype=l===null?Object.create(l):(b.prototype=l.prototype,new b)}}();Object.defineProperty(g,"__esModule",{value:!0});var d=256,R=function(){function y(h){h===void 0&&(h="="),this._paddingCharacter=h}return y.prototype.encodedLength=function(h){return this._paddingCharacter?(h+2)/3*4|0:(h*8+5)/6|0},y.prototype.encode=function(h){for(var l="",b=0;b<h.length-2;b+=3){var E=h[b]<<16|h[b+1]<<8|h[b+2];l+=this._encodeByte(E>>>3*6&63),l+=this._encodeByte(E>>>2*6&63),l+=this._encodeByte(E>>>1*6&63),l+=this._encodeByte(E>>>0*6&63)}var j=h.length-b;if(j>0){var E=h[b]<<16|(j===2?h[b+1]<<8:0);l+=this._encodeByte(E>>>3*6&63),l+=this._encodeByte(E>>>2*6&63),j===2?l+=this._encodeByte(E>>>1*6&63):l+=this._paddingCharacter||"",l+=this._paddingCharacter||""}return l},y.prototype.maxDecodedLength=function(h){return this._paddingCharacter?h/4*3|0:(h*6+7)/8|0},y.prototype.decodedLength=function(h){return this.maxDecodedLength(h.length-this._getPaddingLength(h))},y.prototype.decode=function(h){if(h.length===0)return new Uint8Array(0);for(var l=this._getPaddingLength(h),b=h.length-l,E=new Uint8Array(this.maxDecodedLength(b)),j=0,D=0,H=0,B=0,M=0,q=0,z=0;D<b-4;D+=4)B=this._decodeChar(h.charCodeAt(D+0)),M=this._decodeChar(h.charCodeAt(D+1)),q=this._decodeChar(h.charCodeAt(D+2)),z=this._decodeChar(h.charCodeAt(D+3)),E[j++]=B<<2|M>>>4,E[j++]=M<<4|q>>>2,E[j++]=q<<6|z,H|=B&d,H|=M&d,H|=q&d,H|=z&d;if(D<b-1&&(B=this._decodeChar(h.charCodeAt(D)),M=this._decodeChar(h.charCodeAt(D+1)),E[j++]=B<<2|M>>>4,H|=B&d,H|=M&d),D<b-2&&(q=this._decodeChar(h.charCodeAt(D+2)),E[j++]=M<<4|q>>>2,H|=q&d),D<b-3&&(z=this._decodeChar(h.charCodeAt(D+3)),E[j++]=q<<6|z,H|=z&d),H!==0)throw new Error("Base64Coder: incorrect characters for decoding");return E},y.prototype._encodeByte=function(h){var l=h;return l+=65,l+=25-h>>>8&0-65-26+97,l+=51-h>>>8&26-97-52+48,l+=61-h>>>8&52-48-62+43,l+=62-h>>>8&62-43-63+47,String.fromCharCode(l)},y.prototype._decodeChar=function(h){var l=d;return l+=(42-h&h-44)>>>8&-d+h-43+62,l+=(46-h&h-48)>>>8&-d+h-47+63,l+=(47-h&h-58)>>>8&-d+h-48+52,l+=(64-h&h-91)>>>8&-d+h-65+0,l+=(96-h&h-123)>>>8&-d+h-97+26,l},y.prototype._getPaddingLength=function(h){var l=0;if(this._paddingCharacter){for(var b=h.length-1;b>=0&&h[b]===this._paddingCharacter;b--)l++;if(h.length<4||l>2)throw new Error("Base64Coder: incorrect padding")}return l},y}();g.Coder=R;var C=new R;function G(y){return C.encode(y)}g.encode=G;function O(y){return C.decode(y)}g.decode=O;var k=function(y){m(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype._encodeByte=function(l){var b=l;return b+=65,b+=25-l>>>8&0-65-26+97,b+=51-l>>>8&26-97-52+48,b+=61-l>>>8&52-48-62+45,b+=62-l>>>8&62-45-63+95,String.fromCharCode(b)},h.prototype._decodeChar=function(l){var b=d;return b+=(44-l&l-46)>>>8&-d+l-45+62,b+=(94-l&l-96)>>>8&-d+l-95+63,b+=(47-l&l-58)>>>8&-d+l-48+52,b+=(64-l&l-91)>>>8&-d+l-65+0,b+=(96-l&l-123)>>>8&-d+l-97+26,b},h}(R);g.URLSafeCoder=k;var S=new k;function T(y){return S.encode(y)}g.encodeURLSafe=T;function x(y){return S.decode(y)}g.decodeURLSafe=x,g.encodedLength=function(y){return C.encodedLength(y)},g.maxDecodedLength=function(y){return C.maxDecodedLength(y)},g.decodedLength=function(y){return C.decodedLength(y)}},function(f,g,P){Object.defineProperty(g,"__esModule",{value:!0});var m="utf8: invalid string",d="utf8: invalid source encoding";function R(O){for(var k=new Uint8Array(C(O)),S=0,T=0;T<O.length;T++){var x=O.charCodeAt(T);x<128?k[S++]=x:x<2048?(k[S++]=192|x>>6,k[S++]=128|x&63):x<55296?(k[S++]=224|x>>12,k[S++]=128|x>>6&63,k[S++]=128|x&63):(T++,x=(x&1023)<<10,x|=O.charCodeAt(T)&1023,x+=65536,k[S++]=240|x>>18,k[S++]=128|x>>12&63,k[S++]=128|x>>6&63,k[S++]=128|x&63)}return k}g.encode=R;function C(O){for(var k=0,S=0;S<O.length;S++){var T=O.charCodeAt(S);if(T<128)k+=1;else if(T<2048)k+=2;else if(T<55296)k+=3;else if(T<=57343){if(S>=O.length-1)throw new Error(m);S++,k+=4}else throw new Error(m)}return k}g.encodedLength=C;function G(O){for(var k=[],S=0;S<O.length;S++){var T=O[S];if(T&128){var x=void 0;if(T<224){if(S>=O.length)throw new Error(d);var y=O[++S];if((y&192)!==128)throw new Error(d);T=(T&31)<<6|y&63,x=128}else if(T<240){if(S>=O.length-1)throw new Error(d);var y=O[++S],h=O[++S];if((y&192)!==128||(h&192)!==128)throw new Error(d);T=(T&15)<<12|(y&63)<<6|h&63,x=2048}else if(T<248){if(S>=O.length-2)throw new Error(d);var y=O[++S],h=O[++S],l=O[++S];if((y&192)!==128||(h&192)!==128||(l&192)!==128)throw new Error(d);T=(T&15)<<18|(y&63)<<12|(h&63)<<6|l&63,x=65536}else throw new Error(d);if(T<x||T>=55296&&T<=57343)throw new Error(d);if(T>=65536){if(T>1114111)throw new Error(d);T-=65536,k.push(String.fromCharCode(55296|T>>10)),T=56320|T&1023}}k.push(String.fromCharCode(T))}return k.join("")}g.decode=G},function(f,g,P){f.exports=P(3).default},function(f,g,P){P.r(g);var m=function(){function e(t,n){this.lastId=0,this.prefix=t,this.name=n}return e.prototype.create=function(t){this.lastId++;var n=this.lastId,r=this.prefix+n,i=this.name+"["+n+"]",o=!1,s=function(){o||(t.apply(null,arguments),o=!0)};return this[n]=s,{number:n,id:r,name:i,callback:s}},e.prototype.remove=function(t){delete this[t.number]},e}(),d=new m("_pusher_script_","Pusher.ScriptReceivers"),R={VERSION:"8.0.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},C=R,G=function(){function e(t){this.options=t,this.receivers=t.receivers||d,this.loading={}}return e.prototype.load=function(t,n,r){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(r);else{i.loading[t]=[r];var o=_.createScriptRequest(i.getPath(t,n)),s=i.receivers.create(function(u){if(i.receivers.remove(s),i.loading[t]){var v=i.loading[t];delete i.loading[t];for(var p=function(L){L||o.cleanup()},w=0;w<v.length;w++)v[w](u,p)}});o.send(s)}},e.prototype.getRoot=function(t){var n,r=_.getDocument().location.protocol;return t&&t.useTLS||r==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(t,n){return this.getRoot(n)+"/"+t+this.options.suffix+".js"},e}(),O=G,k=new m("_pusher_dependencies","Pusher.DependenciesReceivers"),S=new O({cdn_http:C.cdn_http,cdn_https:C.cdn_https,version:C.VERSION,suffix:C.dependency_suffix,receivers:k}),T={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},x=function(e){var t="See:",n=T.urls[e];if(!n)return"";var r;return n.fullUrl?r=n.fullUrl:n.path&&(r=T.baseUrl+n.path),r?t+" "+r:""},y={buildLogSuffix:x},h;(function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"})(h||(h={}));var l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),E=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),j=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),D=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),H=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),B=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),M=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),q=function(e){l(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),z=function(e){l(t,e);function t(n,r){var i=this.constructor,o=e.call(this,r)||this;return o.status=n,Object.setPrototypeOf(o,i.prototype),o}return t}(Error),Ce=function(e,t,n,r,i){var o=_.createXHR();o.open("POST",n.endpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var s in n.headers)o.setRequestHeader(s,n.headers[s]);if(n.headersProvider!=null){var u=n.headersProvider();for(var s in u)o.setRequestHeader(s,u[s])}return o.onreadystatechange=function(){if(o.readyState===4)if(o.status===200){var v=void 0,p=!1;try{v=JSON.parse(o.responseText),p=!0}catch{i(new z(200,"JSON returned from "+r.toString()+" endpoint was invalid, yet status code was 200. Data was: "+o.responseText),null)}p&&i(null,v)}else{var w="";switch(r){case h.UserAuthentication:w=y.buildLogSuffix("authenticationEndpoint");break;case h.ChannelAuthorization:w="Clients must be authorized to join private or presence channels. "+y.buildLogSuffix("authorizationEndpoint");break}i(new z(o.status,"Unable to retrieve auth string from "+r.toString()+" endpoint - "+("received status: "+o.status+" from "+n.endpoint+". "+w)),null)}},o.send(t),o},Pe=Ce;function ke(e){return Ae(Oe(e))}var it=String.fromCharCode,ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xe=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?it(192|t>>>6)+it(128|t&63):it(224|t>>>12&15)+it(128|t>>>6&63)+it(128|t&63)},Oe=function(e){return e.replace(/[^\x00-\x7F]/g,xe)},Ee=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[ft.charAt(n>>>18),ft.charAt(n>>>12&63),t>=2?"=":ft.charAt(n>>>6&63),t>=1?"=":ft.charAt(n&63)];return r.join("")},Ae=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,Ee)},Le=function(){function e(t,n,r,i){var o=this;this.clear=n,this.timer=t(function(){o.timer&&(o.timer=i(o.timer))},r)}return e.prototype.isRunning=function(){return this.timer!==null},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}(),Ht=Le,qt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function Re(e){window.clearTimeout(e)}function je(e){window.clearInterval(e)}var Q=function(e){qt(t,e);function t(n,r){return e.call(this,setTimeout,Re,n,function(i){return r(),null})||this}return t}(Ht),Ie=function(e){qt(t,e);function t(n,r){return e.call(this,setInterval,je,n,function(i){return r(),i})||this}return t}(Ht),De={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(e){return new Q(0,e)},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){return n[e].apply(n,t.concat(arguments))}}},I=De;function N(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?e[o]=N(e[o]||{},i[o]):e[o]=i[o]}return e}function Ne(){for(var e=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?e.push(arguments[t]):e.push(pt(arguments[t]));return e.join(" : ")}function Mt(e,t){var n=Array.prototype.indexOf;if(e===null)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function F(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function zt(e){var t=[];return F(e,function(n,r){t.push(r)}),t}function Ue(e){var t=[];return F(e,function(n){t.push(n)}),t}function ot(e,t,n){for(var r=0;r<e.length;r++)t.call(n||window,e[r],r,e)}function $t(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e,n));return n}function He(e,t){var n={};return F(e,function(r,i){n[i]=t(r)}),n}function Bt(e,t){t=t||function(i){return!!i};for(var n=[],r=0;r<e.length;r++)t(e[r],r,e,n)&&n.push(e[r]);return n}function Ft(e,t){var n={};return F(e,function(r,i){(t&&t(r,i,e,n)||Boolean(r))&&(n[i]=r)}),n}function qe(e){var t=[];return F(e,function(n,r){t.push([r,n])}),t}function Xt(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function Me(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}function ze(e){return He(e,function(t){return typeof t=="object"&&(t=pt(t)),encodeURIComponent(ke(t.toString()))})}function $e(e){var t=Ft(e,function(r){return r!==void 0}),n=$t(qe(ze(t)),I.method("join","=")).join("&");return n}function Be(e){var t=[],n=[];return function r(i,o){var s,u,v;switch(typeof i){case"object":if(!i)return null;for(s=0;s<t.length;s+=1)if(t[s]===i)return{$ref:n[s]};if(t.push(i),n.push(o),Object.prototype.toString.apply(i)==="[object Array]")for(v=[],s=0;s<i.length;s+=1)v[s]=r(i[s],o+"["+s+"]");else{v={};for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&(v[u]=r(i[u],o+"["+JSON.stringify(u)+"]"))}return v;case"number":case"string":case"boolean":return i}}(e,"$")}function pt(e){try{return JSON.stringify(e)}catch{return JSON.stringify(Be(e))}}var Fe=function(){function e(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLog,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogWarn,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogError,t)},e.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},e.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},e.prototype.log=function(t){var n=Ne.apply(this,arguments);if(Et.log)Et.log(n);else if(Et.logToConsole){var r=t.bind(this);r(n)}},e}(),A=new Fe,Xe=function(e,t,n,r,i){(n.headers!==void 0||n.headersProvider!=null)&&A.warn("To send headers with the "+r.toString()+" request, you must use AJAX, rather than JSONP.");var o=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var s=e.getDocument(),u=s.createElement("script");e.auth_callbacks[o]=function(w){i(null,w)};var v="Pusher.auth_callbacks['"+o+"']";u.src=n.endpoint+"?callback="+encodeURIComponent(v)+"&"+t;var p=s.getElementsByTagName("head")[0]||s.documentElement;p.insertBefore(u,p.firstChild)},Je=Xe,Ve=function(){function e(t){this.src=t}return e.prototype.send=function(t){var n=this,r="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=t.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){t.callback(r)},n.script.onload=function(){t.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&t.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=t.id+"_error",n.errorScript.text=t.name+"('"+r+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(n.script,i.firstChild),n.errorScript&&i.insertBefore(n.errorScript,n.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}(),We=Ve,Ge=function(){function e(t,n){this.url=t,this.data=n}return e.prototype.send=function(t){if(!this.request){var n=$e(this.data),r=this.url+"/"+t.number+"?"+n;this.request=_.createScriptRequest(r),this.request.send(t)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}(),Qe=Ge,Ye=function(e,t){return function(n,r){var i="http"+(t?"s":"")+"://",o=i+(e.host||e.options.host)+e.options.path,s=_.createJSONPRequest(o,n),u=_.ScriptReceivers.create(function(v,p){d.remove(u),s.cleanup(),p&&p.host&&(e.host=p.host),r&&r(v,p)});s.send(u)}},Ke={name:"jsonp",getAgent:Ye},Ze=Ke;function _t(e,t,n){var r=e+(t.useTLS?"s":""),i=t.useTLS?t.hostTLS:t.hostNonTLS;return r+"://"+i+n}function bt(e,t){var n="/app/"+e,r="?protocol="+C.PROTOCOL+"&client=js&version="+C.VERSION+(t?"&"+t:"");return n+r}var tn={getInitial:function(e,t){var n=(t.httpPath||"")+bt(e,"flash=false");return _t("ws",t,n)}},en={getInitial:function(e,t){var n=(t.httpPath||"/pusher")+bt(e);return _t("http",t,n)}},nn={getInitial:function(e,t){return _t("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return bt(e)}},rn=function(){function e(){this._callbacks={}}return e.prototype.get=function(t){return this._callbacks[wt(t)]},e.prototype.add=function(t,n,r){var i=wt(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:n,context:r})},e.prototype.remove=function(t,n,r){if(!t&&!n&&!r){this._callbacks={};return}var i=t?[wt(t)]:zt(this._callbacks);n||r?this.removeCallback(i,n,r):this.removeAllCallbacks(i)},e.prototype.removeCallback=function(t,n,r){ot(t,function(i){this._callbacks[i]=Bt(this._callbacks[i]||[],function(o){return n&&n!==o.fn||r&&r!==o.context}),this._callbacks[i].length===0&&delete this._callbacks[i]},this)},e.prototype.removeAllCallbacks=function(t){ot(t,function(n){delete this._callbacks[n]},this)},e}(),on=rn;function wt(e){return"_"+e}var sn=function(){function e(t){this.callbacks=new on,this.global_callbacks=[],this.failThrough=t}return e.prototype.bind=function(t,n,r){return this.callbacks.add(t,n,r),this},e.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},e.prototype.unbind=function(t,n,r){return this.callbacks.remove(t,n,r),this},e.prototype.unbind_global=function(t){return t?(this.global_callbacks=Bt(this.global_callbacks||[],function(n){return n!==t}),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(t,n,r){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](t,n);var o=this.callbacks.get(t),s=[];if(r?s.push(n,r):n&&s.push(n),o&&o.length>0)for(var i=0;i<o.length;i++)o[i].fn.apply(o[i].context||window,s);else this.failThrough&&this.failThrough(t,n);return this},e}(),X=sn,an=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(e){an(t,e);function t(n,r,i,o,s){var u=e.call(this)||this;return u.initialize=_.transportConnectionInitializer,u.hooks=n,u.name=r,u.priority=i,u.key=o,u.options=s,u.state="new",u.timeline=s.timeline,u.activityTimeout=s.activityTimeout,u.id=u.timeline.generateUniqueID(),u}return t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(i){return I.defer(function(){n.onError(i),n.changeState("closed")}),!1}return this.bindListeners(),A.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0},t.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},t.prototype.send=function(n){var r=this;return this.state==="open"?(I.defer(function(){r.socket&&r.socket.send(n)}),!0):!1},t.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},t.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(n){this.emit("message",n)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(r){n.onError(r)},this.socket.onclose=function(r){n.onClose(r)},this.socket.onmessage=function(r){n.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(n,r){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:r})),this.emit(n,r)},t.prototype.buildTimelineMessage=function(n){return N({cid:this.id},n)},t}(X),un=cn,hn=function(){function e(t){this.hooks=t}return e.prototype.isSupported=function(t){return this.hooks.isSupported(t)},e.prototype.createConnection=function(t,n,r,i){return new un(this.hooks,t,n,r,i)},e}(),et=hn,ln=new et({urls:tn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(_.getWebSocketAPI())},isSupported:function(){return Boolean(_.getWebSocketAPI())},getSocket:function(e){return _.createWebSocket(e)}}),Jt={urls:en,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Vt=N({getSocket:function(e){return _.HTTPFactory.createStreamingSocket(e)}},Jt),Wt=N({getSocket:function(e){return _.HTTPFactory.createPollingSocket(e)}},Jt),Gt={isSupported:function(){return _.isXHRSupported()}},fn=new et(N({},Vt,Gt)),pn=new et(N({},Wt,Gt)),dn={ws:ln,xhr_streaming:fn,xhr_polling:pn},dt=dn,vn=new et({file:"sockjs",urls:nn,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:S.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),Qt={isSupported:function(e){var t=_.isXDRSupported(e.useTLS);return t}},gn=new et(N({},Vt,Qt)),yn=new et(N({},Wt,Qt));dt.xdr_streaming=gn,dt.xdr_polling=yn,dt.sockjs=vn;var mn=dt,_n=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(e){_n(t,e);function t(){var n=e.call(this)||this,r=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1)),n}return t.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},t}(X),wn=new bn,Sn=function(){function e(t,n,r){this.manager=t,this.transport=n,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(t,n,r,i){var o=this;i=N({},i,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,n,r,i),u=null,v=function(){s.unbind("open",v),s.bind("closed",p),u=I.now()},p=function(w){if(s.unbind("closed",p),w.code===1002||w.code===1003)o.manager.reportDeath();else if(!w.wasClean&&u){var L=I.now()-u;L<2*o.maxPingDelay&&(o.manager.reportDeath(),o.pingDelay=Math.max(L/2,o.minPingDelay))}};return s.bind("open",v),s},e.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},e}(),Tn=Sn,Yt={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if(typeof n=="string")try{n=JSON.parse(t.data)}catch{}var r={event:t.event,channel:t.channel,data:n};return t.user_id&&(r.user_id=t.user_id),r}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=Yt.decodeMessage(e);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:e.code===4e3?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return e.code!==1e3&&e.code!==1001?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},Y=Yt,Cn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pn=function(e){Cn(t,e);function t(n,r){var i=e.call(this)||this;return i.id=n,i.transport=r,i.activityTimeout=r.activityTimeout,i.bindListeners(),i}return t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(n){return this.transport.send(n)},t.prototype.send_event=function(n,r,i){var o={event:n,data:r};return i&&(o.channel=i),A.debug("Event sent",o),this.send(Y.encodeMessage(o))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var n=this,r={message:function(o){var s;try{s=Y.decodeMessage(o)}catch(u){n.emit("error",{type:"MessageParseError",error:u,data:o.data})}if(s!==void 0){switch(A.debug("Event recd",s),s.event){case"pusher:error":n.emit("error",{type:"PusherError",data:s.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",s)}},activity:function(){n.emit("activity")},error:function(o){n.emit("error",o)},closed:function(o){i(),o&&o.code&&n.handleCloseEvent(o),n.transport=null,n.emit("closed")}},i=function(){F(r,function(o,s){n.transport.unbind(s,o)})};F(r,function(o,s){n.transport.bind(s,o)})},t.prototype.handleCloseEvent=function(n){var r=Y.getCloseAction(n),i=Y.getCloseError(n);i&&this.emit("error",i),r&&this.emit(r,{action:r,error:i})},t}(X),kn=Pn,xn=function(){function e(t,n){this.transport=t,this.callback=n,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var t=this;this.onMessage=function(n){t.unbindListeners();var r;try{r=Y.processHandshake(n)}catch(i){t.finish("error",{error:i}),t.transport.close();return}r.action==="connected"?t.finish("connected",{connection:new kn(r.id,t.transport),activityTimeout:r.activityTimeout}):(t.finish(r.action,{error:r.error}),t.transport.close())},this.onClosed=function(n){t.unbindListeners();var r=Y.getCloseAction(n)||"backoff",i=Y.getCloseError(n);t.finish(r,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(t,n){this.callback(N({transport:this.transport,action:t},n))},e}(),On=xn,En=function(){function e(t,n){this.timeline=t,this.options=n||{}}return e.prototype.send=function(t,n){this.timeline.isEmpty()||this.timeline.send(_.TimelineTransport.getAgent(this,t),n)},e}(),An=En,Ln=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=function(e){Ln(t,e);function t(n,r){var i=e.call(this,function(o,s){A.debug("No callbacks on "+n+" for "+o)})||this;return i.name=n,i.pusher=r,i.subscribed=!1,i.subscriptionPending=!1,i.subscriptionCancelled=!1,i}return t.prototype.authorize=function(n,r){return r(null,{auth:""})},t.prototype.trigger=function(n,r){if(n.indexOf("client-")!==0)throw new b("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var i=y.buildLogSuffix("triggeringClientEvents");A.warn("Client event triggered before channel 'subscription_succeeded' event . "+i)}return this.pusher.send_event(n,r,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(r==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(r.indexOf("pusher_internal:")!==0){var o={};this.emit(r,i,o)}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},t.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},t.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(r,i){r?(n.subscriptionPending=!1,A.error(r.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof z?{status:r.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:i.auth,channel_data:i.channel_data,channel:n.name})}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(X),St=Rn,jn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=function(e){jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.authorize=function(n,r){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},r)},t}(St),Tt=In,Dn=function(){function e(){this.reset()}return e.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},e.prototype.each=function(t){var n=this;F(this.members,function(r,i){t(n.get(i))})},e.prototype.setMyID=function(t){this.myID=t},e.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},e.prototype.removeMember=function(t){var n=this.get(t.user_id);return n&&(delete this.members[t.user_id],this.count--),n},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}(),Nn=Dn,Un=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(w){try{p(r.next(w))}catch(L){s(L)}}function v(w){try{p(r.throw(w))}catch(L){s(L)}}function p(w){w.done?o(w.value):i(w.value).then(u,v)}p((r=r.apply(e,t||[])).next())})},qn=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(p){return function(w){return v([p,w])}}function v(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Mn=function(e){Un(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.members=new Nn,i}return t.prototype.authorize=function(n,r){var i=this;e.prototype.authorize.call(this,n,function(o,s){return Hn(i,void 0,void 0,function(){var u,v;return qn(this,function(p){switch(p.label){case 0:return o?[3,3]:(s=s,s.channel_data==null?[3,1]:(u=JSON.parse(s.channel_data),this.members.setMyID(u.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(p.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return v=y.buildLogSuffix("authorizationEndpoint"),A.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+v+", ")+"or the user should be signed in."),r("Invalid auth response"),[2];p.label=3;case 3:return r(o,s),[2]}})})})},t.prototype.handleEvent=function(n){var r=n.event;if(r.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var i=n.data,o={};n.user_id&&(o.user_id=n.user_id),this.emit(r,i,o)}},t.prototype.handleInternalEvent=function(n){var r=n.event,i=n.data;switch(r){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var o=this.members.addMember(i);this.emit("pusher:member_added",o);break;case"pusher_internal:member_removed":var s=this.members.removeMember(i);s&&this.emit("pusher:member_removed",s);break}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(Tt),zn=Mn,$n=P(1),Ct=P(0),Bn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fn=function(e){Bn(t,e);function t(n,r,i){var o=e.call(this,n,r)||this;return o.key=null,o.nacl=i,o}return t.prototype.authorize=function(n,r){var i=this;e.prototype.authorize.call(this,n,function(o,s){if(o){r(o,s);return}var u=s.shared_secret;if(!u){r(new Error("No shared_secret key in auth payload for encrypted channel: "+i.name),null);return}i.key=Object(Ct.decode)(u),delete s.shared_secret,r(null,s)})},t.prototype.trigger=function(n,r){throw new B("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0){e.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(r,i)},t.prototype.handleEncryptedEvent=function(n,r){var i=this;if(!this.key){A.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!r.ciphertext||!r.nonce){A.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+r);return}var o=Object(Ct.decode)(r.ciphertext);if(o.length<this.nacl.secretbox.overheadLength){A.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+o.length);return}var s=Object(Ct.decode)(r.nonce);if(s.length<this.nacl.secretbox.nonceLength){A.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+s.length);return}var u=this.nacl.secretbox.open(o,s,this.key);if(u===null){A.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(v,p){if(v){A.error("Failed to make a request to the authEndpoint: "+p+". Unable to fetch new key, so dropping encrypted event");return}if(u=i.nacl.secretbox.open(o,s,i.key),u===null){A.error("Failed to decrypt event with new key. Dropping encrypted event");return}i.emit(n,i.getDataToEmit(u))});return}this.emit(n,this.getDataToEmit(u))},t.prototype.getDataToEmit=function(n){var r=Object($n.decode)(n);try{return JSON.parse(r)}catch{return r}},t}(Tt),Xn=Fn,Jn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vn=function(e){Jn(t,e);function t(n,r){var i=e.call(this)||this;i.state="initialized",i.connection=null,i.key=n,i.options=r,i.timeline=i.options.timeline,i.usingTLS=i.options.useTLS,i.errorCallbacks=i.buildErrorCallbacks(),i.connectionCallbacks=i.buildConnectionCallbacks(i.errorCallbacks),i.handshakeCallbacks=i.buildHandshakeCallbacks(i.errorCallbacks);var o=_.getNetwork();return o.bind("online",function(){i.timeline.info({netinfo:"online"}),(i.state==="connecting"||i.state==="unavailable")&&i.retryIn(0)}),o.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),i.updateStrategy(),i}return t.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(n){return this.connection?this.connection.send(n):!1},t.prototype.send_event=function(n,r,i){return this.connection?this.connection.send_event(n,r,i):!1},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var n=this,r=function(i,o){i?n.runner=n.strategy.connect(0,r):o.action==="error"?(n.emit("error",{type:"HandshakeError",error:o.error}),n.timeline.error({handshakeError:o.error})):(n.abortConnecting(),n.handshakeCallbacks[o.action](o))};this.runner=this.strategy.connect(0,r)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(n){var r=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new Q(n||0,function(){r.disconnectInternally(),r.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new Q(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Q(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},t.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Q(this.activityTimeout,function(){n.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(n){var r=this;return N({},n,{message:function(i){r.resetActivityCheck(),r.emit("message",i)},ping:function(){r.send_event("pusher:pong",{})},activity:function(){r.resetActivityCheck()},error:function(i){r.emit("error",i)},closed:function(){r.abandonConnection(),r.shouldRetry()&&r.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(n){var r=this;return N({},n,{connected:function(i){r.activityTimeout=Math.min(r.options.activityTimeout,i.activityTimeout,i.connection.activityTimeout||1/0),r.clearUnavailableTimer(),r.setConnection(i.connection),r.socket_id=r.connection.id,r.updateState("connected",{socket_id:r.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var n=this,r=function(i){return function(o){o.error&&n.emit("error",{type:"WebSocketError",error:o.error}),i(o)}};return{tls_only:r(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:r(function(){n.disconnect()}),backoff:r(function(){n.retryIn(1e3)}),retry:r(function(){n.retryIn(0)})}},t.prototype.setConnection=function(n){this.connection=n;for(var r in this.connectionCallbacks)this.connection.bind(r,this.connectionCallbacks[r]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(!!this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var r=this.connection;return this.connection=null,r}},t.prototype.updateState=function(n,r){var i=this.state;if(this.state=n,i!==n){var o=n;o==="connected"&&(o+=" with new socket ID "+r.socket_id),A.debug("State changed",i+" -> "+o),this.timeline.info({state:n,params:r}),this.emit("state_change",{previous:i,current:n}),this.emit(n,r)}},t.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},t}(X),Wn=Vn,Gn=function(){function e(){this.channels={}}return e.prototype.add=function(t,n){return this.channels[t]||(this.channels[t]=Yn(t,n)),this.channels[t]},e.prototype.all=function(){return Ue(this.channels)},e.prototype.find=function(t){return this.channels[t]},e.prototype.remove=function(t){var n=this.channels[t];return delete this.channels[t],n},e.prototype.disconnect=function(){F(this.channels,function(t){t.disconnect()})},e}(),Qn=Gn;function Yn(e,t){if(e.indexOf("private-encrypted-")===0){if(t.config.nacl)return J.createEncryptedChannel(e,t,t.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=y.buildLogSuffix("encryptedChannelSupport");throw new B(n+". "+r)}else{if(e.indexOf("private-")===0)return J.createPrivateChannel(e,t);if(e.indexOf("presence-")===0)return J.createPresenceChannel(e,t);if(e.indexOf("#")===0)throw new E('Cannot create a channel with name "'+e+'".');return J.createChannel(e,t)}}var Kn={createChannels:function(){return new Qn},createConnectionManager:function(e,t){return new Wn(e,t)},createChannel:function(e,t){return new St(e,t)},createPrivateChannel:function(e,t){return new Tt(e,t)},createPresenceChannel:function(e,t){return new zn(e,t)},createEncryptedChannel:function(e,t,n){return new Xn(e,t,n)},createTimelineSender:function(e,t){return new An(e,t)},createHandshake:function(e,t){return new On(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new Tn(e,t,n)}},J=Kn,Zn=function(){function e(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(t){return J.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}(),Kt=Zn,tr=function(){function e(t,n){this.strategies=t,this.loop=Boolean(n.loop),this.failFast=Boolean(n.failFast),this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return e.prototype.isSupported=function(){return Xt(this.strategies,I.method("isSupported"))},e.prototype.connect=function(t,n){var r=this,i=this.strategies,o=0,s=this.timeout,u=null,v=function(p,w){w?n(null,w):(o=o+1,r.loop&&(o=o%i.length),o<i.length?(s&&(s=s*2,r.timeoutLimit&&(s=Math.min(s,r.timeoutLimit))),u=r.tryStrategy(i[o],t,{timeout:s,failFast:r.failFast},v)):n(!0))};return u=this.tryStrategy(i[o],t,{timeout:s,failFast:this.failFast},v),{abort:function(){u.abort()},forceMinPriority:function(p){t=p,u&&u.forceMinPriority(p)}}},e.prototype.tryStrategy=function(t,n,r,i){var o=null,s=null;return r.timeout>0&&(o=new Q(r.timeout,function(){s.abort(),i(!0)})),s=t.connect(n,function(u,v){u&&o&&o.isRunning()&&!r.failFast||(o&&o.ensureAborted(),i(u,v))}),{abort:function(){o&&o.ensureAborted(),s.abort()},forceMinPriority:function(u){s.forceMinPriority(u)}}},e}(),K=tr,er=function(){function e(t){this.strategies=t}return e.prototype.isSupported=function(){return Xt(this.strategies,I.method("isSupported"))},e.prototype.connect=function(t,n){return nr(this.strategies,t,function(r,i){return function(o,s){if(i[r].error=o,o){rr(i)&&n(!0);return}ot(i,function(u){u.forceMinPriority(s.transport.priority)}),n(null,s)}})},e}(),Pt=er;function nr(e,t,n){var r=$t(e,function(i,o,s,u){return i.connect(t,n(o,u))});return{abort:function(){ot(r,ir)},forceMinPriority:function(i){ot(r,function(o){o.forceMinPriority(i)})}}}function rr(e){return Me(e,function(t){return Boolean(t.error)})}function ir(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var or=function(){function e(t,n,r){this.strategy=t,this.transports=n,this.ttl=r.ttl||1800*1e3,this.usingTLS=r.useTLS,this.timeline=r.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.usingTLS,i=ar(r),o=[this.strategy];if(i&&i.timestamp+this.ttl>=I.now()){var s=this.transports[i.transport];s&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),o.push(new K([s],{timeout:i.latency*2+1e3,failFast:!0})))}var u=I.now(),v=o.pop().connect(t,function p(w,L){w?(Zt(r),o.length>0?(u=I.now(),v=o.pop().connect(t,p)):n(w)):(cr(r,L.transport.name,I.now()-u),n(null,L))});return{abort:function(){v.abort()},forceMinPriority:function(p){t=p,v&&v.forceMinPriority(p)}}},e}(),sr=or;function kt(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function ar(e){var t=_.getLocalStorage();if(t)try{var n=t[kt(e)];if(n)return JSON.parse(n)}catch{Zt(e)}return null}function cr(e,t,n){var r=_.getLocalStorage();if(r)try{r[kt(e)]=pt({timestamp:I.now(),transport:t,latency:n})}catch{}}function Zt(e){var t=_.getLocalStorage();if(t)try{delete t[kt(e)]}catch{}}var ur=function(){function e(t,n){var r=n.delay;this.strategy=t,this.options={delay:r}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.strategy,i,o=new Q(this.options.delay,function(){i=r.connect(t,n)});return{abort:function(){o.ensureAborted(),i&&i.abort()},forceMinPriority:function(s){t=s,i&&i.forceMinPriority(s)}}},e}(),vt=ur,hr=function(){function e(t,n,r){this.test=t,this.trueBranch=n,this.falseBranch=r}return e.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},e.prototype.connect=function(t,n){var r=this.test()?this.trueBranch:this.falseBranch;return r.connect(t,n)},e}(),st=hr,lr=function(){function e(t){this.strategy=t}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.strategy.connect(t,function(i,o){o&&r.abort(),n(i,o)});return r},e}(),fr=lr;function at(e){return function(){return e.isSupported()}}var pr=function(e,t,n){var r={};function i(le,Si,Ti,Ci,Pi){var fe=n(e,le,Si,Ti,Ci,Pi);return r[le]=fe,fe}var o=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),s=Object.assign({},o,{useTLS:!0}),u=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),v={loop:!0,timeout:15e3,timeoutLimit:6e4},p=new Kt({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),w=new Kt({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),L=i("ws","ws",3,o,p),$=i("wss","ws",3,s,p),yi=i("sockjs","sockjs",1,u),oe=i("xhr_streaming","xhr_streaming",1,u,w),mi=i("xdr_streaming","xdr_streaming",1,u,w),se=i("xhr_polling","xhr_polling",1,u),_i=i("xdr_polling","xdr_polling",1,u),ae=new K([L],v),bi=new K([$],v),wi=new K([yi],v),ce=new K([new st(at(oe),oe,mi)],v),ue=new K([new st(at(se),se,_i)],v),he=new K([new st(at(ce),new Pt([ce,new vt(ue,{delay:4e3})]),ue)],v),At=new st(at(he),he,wi),Lt;return t.useTLS?Lt=new Pt([ae,new vt(At,{delay:2e3})]):Lt=new Pt([ae,new vt(bi,{delay:2e3}),new vt(At,{delay:5e3})]),new sr(new fr(new st(at(L),Lt,At)),r,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},dr=pr,vr=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),S.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},gr={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new j),e.close()},t.onerror=function(n){e.emit("error",n),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}},yr=gr,mr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_r=256*1024,br=function(e){mr(t,e);function t(n,r,i){var o=e.call(this)||this;return o.hooks=n,o.method=r,o.url=i,o}return t.prototype.start=function(n){var r=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){r.close()},_.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},t.prototype.close=function(){this.unloader&&(_.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(n,r){for(;;){var i=this.advanceBuffer(r);if(i)this.emit("chunk",{status:n,data:i});else break}this.isBufferTooLong(r)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(n){var r=n.slice(this.position),i=r.indexOf(`
`);return i!==-1?(this.position+=i+1,r.slice(0,i)):null},t.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>_r},t}(X),wr=br,xt;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"})(xt||(xt={}));var Z=xt,Sr=1,Tr=function(){function e(t,n){this.hooks=t,this.session=ee(1e3)+"/"+xr(8),this.location=Cr(n),this.readyState=Z.CONNECTING,this.openStream()}return e.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(t,n){this.onClose(t,n,!0)},e.prototype.sendRaw=function(t){if(this.readyState===Z.OPEN)try{return _.createSocketRequest("POST",te(Pr(this.location,this.session))).start(t),!0}catch{return!1}else return!1},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(t,n,r){this.closeStream(),this.readyState=Z.CLOSED,this.onclose&&this.onclose({code:t,reason:n,wasClean:r})},e.prototype.onChunk=function(t){if(t.status===200){this.readyState===Z.OPEN&&this.onActivity();var n,r=t.data.slice(0,1);switch(r){case"o":n=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<n.length;i++)this.onEvent(n[i]);break;case"m":n=JSON.parse(t.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(t.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},e.prototype.onOpen=function(t){this.readyState===Z.CONNECTING?(t&&t.hostname&&(this.location.base=kr(this.location.base,t.hostname)),this.readyState=Z.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(t){this.readyState===Z.OPEN&&this.onmessage&&this.onmessage({data:t})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(t){this.onerror&&this.onerror(t)},e.prototype.openStream=function(){var t=this;this.stream=_.createSocketRequest("POST",te(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){t.onChunk(n)}),this.stream.bind("finished",function(n){t.hooks.onFinished(t,n)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(n){I.defer(function(){t.onError(n),t.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function Cr(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}function Pr(e,t){return e.base+"/"+t+"/xhr_send"}function te(e){var t=e.indexOf("?")===-1?"?":"&";return e+t+"t="+ +new Date+"&n="+Sr++}function kr(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}function ee(e){return _.randomInt(e)}function xr(e){for(var t=[],n=0;n<e;n++)t.push(ee(32).toString(32));return t.join("")}var Or=Tr,Er={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Ar=Er,Lr={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){t===200?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Rr=Lr,jr={getRequest:function(e){var t=_.getXHRAPI(),n=new t;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText),e.emit("finished",n.status),e.close();break}},n},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},Ir=jr,Dr={createStreamingSocket:function(e){return this.createSocket(Ar,e)},createPollingSocket:function(e){return this.createSocket(Rr,e)},createSocket:function(e,t){return new Or(e,t)},createXHR:function(e,t){return this.createRequest(Ir,e,t)},createRequest:function(e,t,n){return new wr(e,t,n)}},ne=Dr;ne.createXDR=function(e,t){return this.createRequest(yr,e,t)};var Nr=ne,Ur={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:d,DependenciesReceivers:k,getDefaultStrategy:dr,Transports:mn,transportConnectionInitializer:vr,HTTPFactory:Nr,TimelineTransport:Ze,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():S.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:Pe,jsonp:Je}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new Qe(e,t)},createScriptRequest:function(e){return new We(e)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var e=this.getXHRAPI();return new e},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return wn},createWebSocket:function(e){var t=this.getWebSocketAPI();return new t(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&new e().withCredentials!==void 0},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){window.addEventListener!==void 0?window.addEventListener("unload",e,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){window.addEventListener!==void 0?window.removeEventListener("unload",e,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",e)},randomInt:function(e){var t=function(){var n=window.crypto||window.msCrypto,r=n.getRandomValues(new Uint32Array(1))[0];return r/Math.pow(2,32)};return Math.floor(t()*e)}},_=Ur,Ot;(function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"})(Ot||(Ot={}));var gt=Ot,Hr=function(){function e(t,n,r){this.key=t,this.session=n,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(t,n){t<=this.options.level&&(this.events.push(N({},n,{timestamp:I.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(t){this.log(gt.ERROR,t)},e.prototype.info=function(t){this.log(gt.INFO,t)},e.prototype.debug=function(t){this.log(gt.DEBUG,t)},e.prototype.isEmpty=function(){return this.events.length===0},e.prototype.send=function(t,n){var r=this,i=N({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(i,function(o,s){o||r.sent++,n&&n(o,s)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}(),qr=Hr,Mr=function(){function e(t,n,r,i){this.name=t,this.priority=n,this.transport=r,this.options=i||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(t,n){var r=this;if(this.isSupported()){if(this.priority<t)return re(new D,n)}else return re(new q,n);var i=!1,o=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),s=null,u=function(){o.unbind("initialized",u),o.connect()},v=function(){s=J.createHandshake(o,function($){i=!0,L(),n(null,$)})},p=function($){L(),n($)},w=function(){L();var $;$=pt(o),n(new H($))},L=function(){o.unbind("initialized",u),o.unbind("open",v),o.unbind("error",p),o.unbind("closed",w)};return o.bind("initialized",u),o.bind("open",v),o.bind("error",p),o.bind("closed",w),o.initialize(),{abort:function(){i||(L(),s?s.close():o.close())},forceMinPriority:function($){i||r.priority<$&&(s?s.close():o.close())}}},e}(),zr=Mr;function re(e,t){return I.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var $r=_.Transports,Br=function(e,t,n,r,i,o){var s=$r[n];if(!s)throw new M(n);var u=(!e.enabledTransports||Mt(e.enabledTransports,t)!==-1)&&(!e.disabledTransports||Mt(e.disabledTransports,t)===-1),v;return u?(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),v=new zr(t,r,o?o.getAssistant(s):s,i)):v=Fr,v},Fr={isSupported:function(){return!1},connect:function(e,t){var n=I.defer(function(){t(new q)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Xr(e){if(e==null)throw"You must pass an options object";if(e.cluster==null)throw"Options object must provide a cluster";"disableStats"in e&&A.warn("The disableStats option is deprecated in favor of enableStats")}var Jr=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(t.paramsProvider!=null){var i=t.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n},Vr=function(e){if(typeof _.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var r=Jr(t,e);_.getAuthorizers()[e.transport](_,r,e,h.UserAuthentication,n)}},Wr=Vr,Gr=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);n+="&channel_name="+encodeURIComponent(e.channelName);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(t.paramsProvider!=null){var i=t.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n},Qr=function(e){if(typeof _.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var r=Gr(t,e);_.getAuthorizers()[e.transport](_,r,e,h.ChannelAuthorization,n)}},Yr=Qr,Kr=function(e,t,n){var r={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return function(i,o){var s=e.channel(i.channelName),u=n(s,r);u.authorize(i.socketId,o)}},nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nt.apply(this,arguments)};function Zr(e,t){var n={activityTimeout:e.activityTimeout||C.activityTimeout,cluster:e.cluster,httpPath:e.httpPath||C.httpPath,httpPort:e.httpPort||C.httpPort,httpsPort:e.httpsPort||C.httpsPort,pongTimeout:e.pongTimeout||C.pongTimeout,statsHost:e.statsHost||C.stats_host,unavailableTimeout:e.unavailableTimeout||C.unavailableTimeout,wsPath:e.wsPath||C.wsPath,wsPort:e.wsPort||C.wsPort,wssPort:e.wssPort||C.wssPort,enableStats:ii(e),httpHost:ti(e),useTLS:ri(e),wsHost:ei(e),userAuthenticator:oi(e),channelAuthorizer:ai(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}function ti(e){return e.httpHost?e.httpHost:e.cluster?"sockjs-"+e.cluster+".pusher.com":C.httpHost}function ei(e){return e.wsHost?e.wsHost:ni(e.cluster)}function ni(e){return"ws-"+e+".pusher.com"}function ri(e){return _.getProtocol()==="https:"?!0:e.forceTLS!==!1}function ii(e){return"enableStats"in e?e.enableStats:"disableStats"in e?!e.disableStats:!1}function oi(e){var t=nt(nt({},C.userAuthentication),e.userAuthentication);return"customHandler"in t&&t.customHandler!=null?t.customHandler:Wr(t)}function si(e,t){var n;return"channelAuthorization"in e?n=nt(nt({},C.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||C.authTransport,endpoint:e.authEndpoint||C.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=Kr(t,n,e.authorizer))),n}function ai(e,t){var n=si(e,t);return"customHandler"in n&&n.customHandler!=null?n.customHandler:Yr(n)}var ci=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(e){ci(t,e);function t(n){var r=e.call(this,function(i,o){A.debug("No callbacks on watchlist events for "+i)})||this;return r.pusher=n,r.bindWatchlistInternalEvent(),r}return t.prototype.handleEvent=function(n){var r=this;n.data.events.forEach(function(i){r.emit(i.name,i)})},t.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(r){var i=r.event;i==="pusher_internal:watchlist_events"&&n.handleEvent(r)})},t}(X),hi=ui;function li(){var e,t,n=new Promise(function(r,i){e=r,t=i});return{promise:n,resolve:e,reject:t}}var fi=li,pi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(e){pi(t,e);function t(n){var r=e.call(this,function(i,o){A.debug("No callbacks on user for "+i)})||this;return r.signin_requested=!1,r.user_data=null,r.serverToUserChannel=null,r.signinDonePromise=null,r._signinDoneResolve=null,r._onAuthorize=function(i,o){if(i){A.warn("Error during signin: "+i),r._cleanup();return}r.pusher.send_event("pusher:signin",{auth:o.auth,user_data:o.user_data})},r.pusher=n,r.pusher.connection.bind("state_change",function(i){var o=i.previous,s=i.current;o!=="connected"&&s==="connected"&&r._signin(),o==="connected"&&s!=="connected"&&(r._cleanup(),r._newSigninPromiseIfNeeded())}),r.watchlist=new hi(n),r.pusher.connection.bind("message",function(i){var o=i.event;o==="pusher:signin_success"&&r._onSigninSuccess(i.data),r.serverToUserChannel&&r.serverToUserChannel.name===i.channel&&r.serverToUserChannel.handleEvent(i)}),r}return t.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},t.prototype._signin=function(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},t.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{A.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){A.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},t.prototype._subscribeChannels=function(){var n=this,r=function(i){i.subscriptionPending&&i.subscriptionCancelled?i.reinstateSubscription():!i.subscriptionPending&&n.pusher.connection.state==="connected"&&i.subscribe()};this.serverToUserChannel=new St("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(i,o){i.indexOf("pusher_internal:")===0||i.indexOf("pusher:")===0||n.emit(i,o)}),r(this.serverToUserChannel)},t.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},t.prototype._newSigninPromiseIfNeeded=function(){if(!!this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=fi(),r=n.promise,i=n.resolve;r.done=!1;var o=function(){r.done=!0};r.then(o).catch(o),this.signinDonePromise=r,this._signinDoneResolve=i}},t}(X),vi=di,ie=function(){function e(t,n){var r=this;gi(t),Xr(n),this.key=t,this.config=Zr(n,this),this.channels=J.createChannels(),this.global_emitter=new X,this.sessionID=_.randomInt(1e9),this.timeline=new qr(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:gt.INFO,version:C.VERSION}),this.config.enableStats&&(this.timelineSender=J.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+_.TimelineTransport.name}));var i=function(o){return _.getDefaultStrategy(r.config,o,Br)};this.connection=J.createConnectionManager(this.key,{getStrategy:i,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())}),this.connection.bind("message",function(o){var s=o.event,u=s.indexOf("pusher_internal:")===0;if(o.channel){var v=r.channel(o.channel);v&&v.handleEvent(o)}u||r.global_emitter.emit(o.event,o.data)}),this.connection.bind("connecting",function(){r.channels.disconnect()}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(o){A.warn(o)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),this.user=new vi(this),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.getClientFeatures=function(){return zt(Ft({ws:_.Transports.ws},function(t){return t.isSupported({})}))},e.prototype.channel=function(t){return this.channels.find(t)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new Ie(6e4,function(){n.send(t)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(t,n,r){return this.global_emitter.bind(t,n,r),this},e.prototype.unbind=function(t,n,r){return this.global_emitter.unbind(t,n,r),this},e.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},e.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},e.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},e.prototype.subscribe=function(t){var n=this.channels.add(t,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},e.prototype.unsubscribe=function(t){var n=this.channels.find(t);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(t),n&&n.subscribed&&n.unsubscribe())},e.prototype.send_event=function(t,n,r){return this.connection.send_event(t,n,r)},e.prototype.shouldUseTLS=function(){return this.config.useTLS},e.prototype.signin=function(){this.user.signin()},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=_,e.ScriptReceivers=_.ScriptReceivers,e.DependenciesReceivers=_.DependenciesReceivers,e.auth_callbacks=_.auth_callbacks,e}(),Et=g.default=ie;function gi(e){if(e==null)throw"You must pass your app key when you instantiate Pusher."}_.setup(ie)}])})})(Se);const Ki=Ii(Se.exports);window.Pusher=Ki;var mt,Te;class Zi{constructor(c){jt(this,mt);ve(this,mt,Te).call(this,c)}}mt=new WeakSet,Te=function(c){c.$echo=new $i({broadcaster:"pusher",key:{BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0}.VITE_PUSHER_APP_KEY,wsHost:{BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0}.VITE_PUSHER_APP_HOST,cluster:{BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0}.VITE_PUSHER_APP_CLUSTER,authorizer:f=>({authorize:(g,P)=>{c.$api.call({url:c.$api.route("misc.broadcast.auth"),method:"POST",data:{socket_id:g,channel_name:f.name}}).then(m=>{P(!1,m.data)}).catch(m=>{P(!0,m)})}})})};U.use(Di,{loader:()=>{const a=Dt,c=Nt,f=U.prototype,g=_e.framework;f.$api=new Yi(f,a),f.$auth=new Ni(a),f.$state=new Mi(c),f.$loader=new zi(f,a,c,g),f.$breadcrumbs=U.observable(new Ui(f,c,g)),new Zi(f)},store:Dt,router:Nt});U.config.productionTip=!1;new U({name:"Admin",store:Dt,router:Nt,vuetify:_e,components:{AdminLayout:()=>tt(()=>import("./82b336c6.js"),["assets/js/82b336c6.js","assets/js/4ed34ab9.js","assets/css/fe9dadf1.css","assets/js/5ecbb865.js","assets/css/a69bd05a.css","assets/js/c631b01c.js","assets/css/5379cb29.css","assets/js/e0db1d00.js","assets/css/025f49a1.css","assets/js/75131b1e.js","assets/js/3cba8a5a.js","assets/js/827a9b58.js","assets/css/1047aac8.css","assets/js/14f55243.js","assets/js/b3be31eb.js","assets/css/3be72a03.css","assets/js/35f22181.js","assets/js/d09b45aa.js","assets/js/dc70b85a.js","assets/css/c961c359.css","assets/js/23e0ddc0.js","assets/css/029efb8b.css","assets/js/64dbd66a.js","assets/css/f5d19e07.css","assets/js/4d23891e.js","assets/js/a097d4c0.js","assets/js/29c6deae.js","assets/js/0c219d74.js","assets/js/73606dbc.js","assets/css/1f7b26d7.css","assets/js/63395702.js","assets/css/55f96b45.css","assets/js/10723b79.js","assets/js/e4160f91.js","assets/js/165252c7.js","assets/js/00924962.js","assets/css/62c25b1f.css","assets/js/c3c33a8d.js","assets/js/7ddd137c.js","assets/css/312561be.css","assets/js/6e49b4f0.js","assets/js/16a5c7a5.js","assets/js/bb1f72c1.js","assets/css/b0b5dfd6.css","assets/js/8f3521ec.js","assets/js/f57264bf.js","assets/js/0e939e68.js","assets/js/ed6ab0a1.js","assets/js/89ff418b.js","assets/js/df638abe.js","assets/css/ddf5ea89.css","assets/js/d3c7861c.js","assets/js/86f5b0e9.js","assets/css/a94ad5b0.css","assets/js/a03227d5.js","assets/css/bc1291ec.css","assets/js/f72d6ec9.js","assets/js/a2f9d391.js","assets/js/14c8fee9.js","assets/js/f5ffbe96.js","assets/css/4d5af27d.css","assets/js/62678420.js","assets/js/8c509b8f.js","assets/js/bcdbeb71.js","assets/css/b0585eea.css","assets/js/caa09a2a.js","assets/js/4138e54f.js","assets/css/e89f2dca.css","assets/js/b17e7ff8.js","assets/css/c4cf8052.css","assets/js/be706740.js","assets/css/44e3c463.css","assets/js/c45557ae.js","assets/js/0f1ce05e.js","assets/js/2d98f16d.js","assets/js/01e285ba.js","assets/css/726b8e9b.css","assets/js/c1698eeb.js","assets/css/70d8eb6d.css"])}}).$mount("#mount");
